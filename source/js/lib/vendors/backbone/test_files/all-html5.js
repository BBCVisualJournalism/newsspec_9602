!function(e,t){function n(e){var t=e.length,n=ot.type(e);return ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=yt[e]={};return ot.each(e.match(st)||[],function(e,n){t[n]=!0}),t}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ot.expando+Math.random()}function o(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(xt,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Nt.test(r)?JSON.parse(r):r}catch(o){}vt.set(e,n,r)}else r=t;return r}function a(){return!0}function s(){return!1}function l(){try{return Q.activeElement}catch(e){}}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(At.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return tt.call(t,e)>=0!==n})}function h(e,t){return ot.nodeName(e,"table")&&ot.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=e.length,r=0;n>r;r++)bt.set(e[r],"globalEval",!t||bt.get(t[r],"globalEval"))}function p(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(bt.hasData(e)&&(o=bt.access(e),a=bt.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)ot.event.add(t,i,u[i][n])}vt.hasData(e)&&(s=vt.access(e),l=ot.extend({},s),vt.set(t,l))}}function m(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&ot.nodeName(e,n)?ot.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&jt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function v(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=nn.length;i--;)if(t=nn[i]+n,t in e)return t;return r}function b(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)}function N(t){return e.getComputedStyle(t,null)}function x(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=bt.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&b(r)&&(o[a]=bt.access(r,"olddisplay",C(r.nodeName)))):o[a]||(i=b(r),(n&&"none"!==n||!i)&&bt.set(r,"olddisplay",i?n:ot.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function w(e,t,n){var r=Xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function _(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ot.css(e,n+tn[o],!0,i)),r?("content"===n&&(a-=ot.css(e,"padding"+tn[o],!0,i)),"margin"!==n&&(a-=ot.css(e,"border"+tn[o]+"Width",!0,i))):(a+=ot.css(e,"padding"+tn[o],!0,i),"padding"!==n&&(a+=ot.css(e,"border"+tn[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=N(e),a=ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Qt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Gt.test(i))return i;r=a&&(ot.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(a?"border":"content"),r,o)+"px"}function C(e){var t=Q,n=Jt[e];return n||(n=E(e,t),"none"!==n&&n||(Yt=(Yt||ot("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Yt[0].contentWindow||Yt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),Yt.detach()),Jt[e]=n),n}function E(e,t){var n=ot(t.createElement(e)).appendTo(t.body),r=ot.css(n[0],"display");return n.remove(),r}function k(e,t,n,r){var i;if(ot.isArray(t))ot.each(t,function(t,i){n||on.test(e)?r(e,i):k(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ot.type(t))r(e,t);else for(i in t)k(e+"["+i+"]",t[i],n,r)}function T(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(st)||[];if(ot.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function S(e,t,n,r){function i(s){var l;return o[s]=!0,ot.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===wn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,n){var r,i,o=ot.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&ot.extend(!0,e,i),e}function A(e,n,r){for(var i,o,a,s,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):void 0}function H(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function P(){return setTimeout(function(){An=t}),An=ot.now()}function R(e,t,n){for(var r,i=(qn[t]||[]).concat(qn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o=0,a=Dn.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=An||P(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:An||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ot.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(D(c,u.opts.specialEasing);a>o;o++)if(r=Dn[o].call(u,e,c,u.opts))return r;return ot.map(c,R,u),ot.isFunction(u.opts.start)&&u.opts.start.call(e,u),ot.fx.timer(ot.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(e,t){var n,r,i,o,a;for(n in e)if(r=ot.camelCase(n),i=t[r],o=e[n],ot.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ot.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function q(e,n,r){var i,o,a,s,l,u,c=this,h={},d=e.style,f=e.nodeType&&b(e),g=bt.get(e,"fxshow");r.queue||(l=ot._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,ot.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ot.css(e,"display")&&"none"===ot.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],Pn.exec(o)){if(delete n[i],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||g[i]===t)continue;f=!0}h[i]=g&&g[i]||ot.style(e,i)}if(!ot.isEmptyObject(h)){g?"hidden"in g&&(f=g.hidden):g=bt.access(e,"fxshow",{}),a&&(g.hidden=!f),f?ot(e).show():c.done(function(){ot(e).hide()}),c.done(function(){var t;bt.remove(e,"fxshow");for(t in h)ot.style(e,t,h[t])});for(i in h)s=R(f?g[i]:0,i,c),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=tn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function I(e){return ot.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B,O,z=typeof t,$=e.location,Q=e.document,Y=Q.documentElement,U=e.jQuery,V=e.$,X={},G=[],Z="2.0.3 -sizzle,-deprecated",J=G.concat,K=G.push,et=G.slice,tt=G.indexOf,nt=X.toString,rt=X.hasOwnProperty,it=Z.trim,ot=function(e,t){return new ot.fn.init(e,t,B)},at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=/\S+/g,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ct=/^-ms-/,ht=/-([\da-z])/gi,dt=function(e,t){return t.toUpperCase()},ft=function(){Q.removeEventListener("DOMContentLoaded",ft,!1),e.removeEventListener("load",ft,!1),ot.ready()};ot.fn=ot.prototype={jquery:Z,constructor:ot,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:lt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ot?n[0]:n,ot.merge(this,ot.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),ut.test(i[1])&&ot.isPlainObject(n))for(i in n)ot.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=Q.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))},selector:"",length:0,toArray:function(){return et.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},ready:function(e){return ot.ready.promise().done(e),this},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},ot.fn.init.prototype=ot.fn,ot.extend=ot.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||ot.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(ot.isPlainObject(i)||(o=ot.isArray(i)))?(o?(o=!1,a=r&&ot.isArray(r)?r:[]):a=r&&ot.isPlainObject(r)?r:{},s[n]=ot.extend(c,a,i)):i!==t&&(s[n]=i));return s},ot.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ot&&(e.$=V),t&&e.jQuery===ot&&(e.jQuery=U),ot},isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){(e===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,e!==!0&&--ot.readyWait>0||(O.resolveWith(Q,[ot]),ot.fn.trigger&&ot(Q).trigger("ready").off("ready")))},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?X[nt.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!rt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=ut.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ot.buildFragment([e],t,i),i&&ot(i).remove(),ot.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(i){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=ot.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ct,"ms-").replace(ht,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":it.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ot.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:tt.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&(l[l.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(l[l.length]=i);return J.apply([],l)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),ot.isFunction(e)?(i=et.call(arguments,2),o=function(){return e.apply(n||this,i.concat(et.call(arguments)))},o.guid=e.guid=e.guid||ot.guid++,o):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===ot.type(r)){o=!0;for(l in r)ot.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,ot.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ot(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:Date.now,swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),ot.ready.promise=function(t){return O||(O=ot.Deferred(),"complete"===Q.readyState?setTimeout(ot.ready):(Q.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",ft,!1))),O.promise(t)},ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),B=ot(Q);var gt,pt=Y.webkitMatchesSelector||Y.mozMatchesSelector||Y.oMatchesSelector||Y.msMatchesSelector,mt=function(e,t){if(e===t)return gt=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n?e===Q||ot.contains(Q,e)?-1:t===Q||ot.contains(Q,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1};ot.extend({find:function(e,t,n,r){var i,o,a=0;if(n=n||[],t=t||Q,!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(r)for(;i=r[a++];)ot.find.matchesSelector(i,e)&&n.push(i);else ot.merge(n,t.querySelectorAll(e));return n},unique:function(e){var t,n=[],r=0,i=0;if(gt=!1,e.sort(mt),gt){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=ot.text(t);return n},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(e){return"HTML"!==(e.ownerDocument||e).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),ot.extend(ot.find,{matches:function(e,t){return ot.find(e,null,null,t)},matchesSelector:function(e,t){return pt.call(e,t)},attr:function(e,t){return e.getAttribute(t)}});var yt={};ot.Callbacks=function(e){e="string"==typeof e?yt[e]||r(e):ot.extend({},e);var n,i,o,a,s,l,u=[],c=!e.once&&[],h=function(t){for(n=e.memory&&t,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,u&&(c?c.length&&h(c.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function r(t){ot.each(t,function(t,n){var i=ot.type(n);"function"===i?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),o?s=u.length:n&&(a=t,h(n))}return this},remove:function(){return u&&ot.each(arguments,function(e,t){for(var n;(n=ot.inArray(t,u,n))>-1;)u.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return e?ot.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=n=t,this},disabled:function(){return!u},lock:function(){return c=t,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],o?c.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,o){var a=o[0],s=ot.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,r):r}},i={};return r.pipe=r.then,ot.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=et.call(arguments),a=o.length,s=1!==a||e&&ot.isFunction(e.promise)?a:0,l=1===s?e:ot.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?et.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ot.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),ot.support=function(t){var n=Q.createElement("input"),r=Q.createDocumentFragment(),i=Q.createElement("div"),o=Q.createElement("select"),a=o.appendChild(Q.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled,n=Q.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,ot(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=Q.getElementsByTagName("body")[0];a&&(n=Q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ot.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(Q.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var vt,bt,Nt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xt=/([A-Z])/g;i.uid=1,i.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},i.prototype={key:function(e){if(!i.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=i.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,ot.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(ot.isEmptyObject(o))ot.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,ot.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,a=this.key(e),s=this.cache[a];if(n===t)this.cache[a]={};else{ot.isArray(n)?i=n.concat(n.map(ot.camelCase)):(o=ot.camelCase(n),n in s?i=[n,o]:(i=o,i=i in s?[i]:i.match(st)||[])),r=i.length;for(;r--;)delete s[i[r]]}},hasData:function(e){return!ot.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},vt=new i,bt=new i,ot.extend({acceptData:i.accepts,hasData:function(e){return vt.hasData(e)||bt.hasData(e)},data:function(e,t,n){return vt.access(e,t,n)},removeData:function(e,t){vt.remove(e,t)},_data:function(e,t,n){return bt.access(e,t,n)},_removeData:function(e,t){bt.remove(e,t)}}),ot.fn.extend({data:function(e,n){var r,i,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=vt.get(a),1===a.nodeType&&!bt.get(a,"hasDataAttrs"))){for(r=a.attributes;s<r.length;s++)i=r[s].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),o(a,i,l[i]));bt.set(a,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){vt.set(this,e)}):ot.access(this,function(n){var r,i=ot.camelCase(e);if(a&&n===t){if(r=vt.get(a,e),r!==t)return r;if(r=vt.get(a,i),r!==t)return r;if(r=o(a,i,t),r!==t)return r}else this.each(function(){var r=vt.get(this,i);vt.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&vt.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){vt.remove(this,e)})}}),ot.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=bt.get(e,t),n&&(!r||ot.isArray(n)?r=bt.access(e,t,ot.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),r=n.length,i=n.shift(),o=ot._queueHooks(e,t),a=function(){ot.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return bt.get(e,n)||bt.access(e,n,{empty:ot.Callbacks("once memory").add(function(){bt.remove(e,[t+"queue",n])})})}}),ot.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ot.queue(this[0],e):n===t?this:this.each(function(){var t=ot.queue(this,e,n);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},delay:function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=ot.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=bt.get(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var wt,_t,Lt=/[\t\r\n\f]/g,Ct=/\r/g,Et=/^(?:input|select|textarea|button)$/i;ot.fn.extend({attr:function(e,t){return ot.access(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})},prop:function(e,t){return ot.access(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ot.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(st)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Lt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ot.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(st)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Lt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ot.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ot(this),o=e.match(st)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===z||"boolean"===n)&&(this.className&&bt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":bt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Lt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=ot.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,ot(this).val()):e,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(e){return null==e?"":e+""})),n=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(Ct,""):null==r?"":r)}}}),ot.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ot.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ot.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ot.inArray(ot(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===z?ot.prop(e,n,r):(1===a&&ot.isXMLDoc(e)||(n=n.toLowerCase(),i=ot.attrHooks[n]||(ot.expr.match.bool.test(n)?_t:wt)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=ot.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):void ot.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(st);if(o&&1===e.nodeType)for(;n=o[i++];)r=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!ot.support.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ot.isXMLDoc(e),a&&(n=ot.propFix[n]||n,o=ot.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Et.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),_t={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):e.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ot.expr.attrHandle[n]||ot.find.attr;ot.expr.attrHandle[n]=function(e,n,i){var o=ot.expr.attrHandle[n],a=i?t:(ot.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ot.expr.attrHandle[n]=o,a}}),ot.support.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},ot.support.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kt=/^key/,Tt=/^(?:mouse|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,n,r,i,o){var a,s,l,u,c,h,d,f,g,p,m,y=bt.get(e);if(y){for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=ot.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(e){return typeof ot===z||e&&ot.event.triggered===e.type?t:ot.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=(n||"").match(st)||[""],c=n.length;c--;)l=Mt.exec(n[c])||[],g=m=l[1],p=(l[2]||"").split(".").sort(),g&&(d=ot.event.special[g]||{},g=(o?d.delegateType:d.bindType)||g,d=ot.event.special[g]||{},h=ot.extend({type:g,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:p.join(".")},a),(f=u[g])||(f=u[g]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,p,s)!==!1||e.addEventListener&&e.addEventListener(g,s,!1)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),ot.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,h,d,f,g,p,m=bt.hasData(e)&&bt.get(e);if(m&&(l=m.events)){for(t=(t||"").match(st)||[""],u=t.length;u--;)if(s=Mt.exec(t[u])||[],f=p=s[1],g=(s[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&p!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&h.teardown.call(e,g,m.handle)!==!1||ot.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)ot.event.remove(e,f+t[u],n,r,!0);ot.isEmptyObject(l)&&(delete m.handle,bt.remove(e,"events"))}},trigger:function(n,r,i,o){var a,s,l,u,c,h,d,f=[i||Q],g=rt.call(n,"type")?n.type:n,p=rt.call(n,"namespace")?n.namespace.split("."):[];if(s=l=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!St.test(g+ot.event.triggered)&&(g.indexOf(".")>=0&&(p=g.split("."),g=p.shift(),p.sort()),c=g.indexOf(":")<0&&"on"+g,n=n[ot.expando]?n:new ot.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=p.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ot.makeArray(r,[n]),d=ot.event.special[g]||{},o||!d.trigger||d.trigger.apply(i,r)!==!1)){if(!o&&!d.noBubble&&!ot.isWindow(i)){for(u=d.delegateType||g,St.test(u+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;
l===(i.ownerDocument||Q)&&f.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=f[a++])&&!n.isPropagationStopped();)n.type=a>1?u:d.bindType||g,h=(bt.get(s,"events")||{})[n.type]&&bt.get(s,"handle"),h&&h.apply(s,r),h=c&&s[c],h&&ot.acceptData(s)&&h.apply&&h.apply(s,r)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),r)!==!1||!ot.acceptData(i)||c&&ot.isFunction(i[g])&&!ot.isWindow(i)&&(l=i[c],l&&(i[c]=null),ot.event.triggered=g,i[g](),ot.event.triggered=t,l&&(i[c]=l)),n.result}},dispatch:function(e){e=ot.event.fix(e);var n,r,i,o,a,s=[],l=et.call(arguments),u=(bt.get(this,"events")||{})[e.type]||[],c=ot.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ot.event.handlers.call(this,e,u),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((ot.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],r=0;l>r;r++)a=n[r],o=a.selector+" ",i[o]===t&&(i[o]=a.needsContext?ot(o,this).index(u)>=0:ot.find(o,this,null,[u]).length),i[o]&&i.push(a);i.length&&s.push({elem:u,handlers:i})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||Q,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[ot.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Tt.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ot.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ot.event.trigger(i,null,t):ot.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?a:s):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ot.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ot.support.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){0===n++&&Q.addEventListener(e,r,!0)},teardown:function(){0===--n&&Q.removeEventListener(e,r,!0)}}}),ot.fn.extend({on:function(e,n,r,i,o){var a,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=s;else if(!i)return this;return 1===o&&(a=i,i=function(e){return ot().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ot(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=s),this.each(function(){ot.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var At=/^.[^:#\[\.,]*$/,Ht=/^(?:parents|prev(?:Until|All))/,Pt=ot.expr.match.needsContext,Rt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;i>t;t++)if(ot.contains(r[t],this))return!0}));for(t=0;i>t;t++)ot.find(e,r[t],n);return n=this.pushStack(i>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=ot(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ot.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Pt.test(e)?ot(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Pt.test(e)||"string"!=typeof e?ot(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ot.unique(o):o)},index:function(e){return e?"string"==typeof e?tt.call(ot(e),this[0]):tt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ot(e,t):ot.makeArray(e&&e.nodeType?[e]:e),r=ot.merge(this.get(),n);return this.pushStack(ot.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,r){var i=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ot.filter(r,i)),this.length>1&&(Rt[e]||ot.unique(i),Ht.test(e)&&i.reverse()),this.pushStack(i)}}),ot.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ot.find.matchesSelector(r,e)?[r]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ot(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Dt=/<([\w:]+)/,qt=/<|&#?\w+;/,Ft=/<(?:script|style|link)/i,jt=/^(?:checkbox|radio)$/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,ot.fn.extend({text:function(e){return ot.access(this,function(e){return e===t?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ot.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ot.cleanData(m(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ot.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return ot.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Ft.test(e)&&!$t[(Dt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Wt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ot.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ot.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ot(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=J.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,h=this,g=c-1,p=e[0],y=ot.isFunction(p);if(y||!(1>=c||"string"!=typeof p||ot.support.checkClone)&&It.test(p))return this.each(function(r){var i=h.eq(r);y&&(e[0]=p.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=ot.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=ot.map(m(r,"script"),d),a=o.length;c>u;u++)s=r,u!==g&&(s=ot.clone(s,!0,!0),a&&ot.merge(o,m(s,"script"))),t.call(this[u],s,u);if(a)for(l=o[o.length-1].ownerDocument,ot.map(o,f),u=0;a>u;u++)s=o[u],Bt.test(s.type||"")&&!bt.access(s,"globalEval")&&ot.contains(l,s)&&(s.src?ot._evalUrl(s.src):ot.globalEval(s.textContent.replace(zt,"")))}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,r=[],i=ot(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),ot(i[a])[t](n),K.apply(r,n.get());return this.pushStack(r)}}),ot.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=ot.contains(e.ownerDocument,e);if(!(ot.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(a=m(s),o=m(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||m(e),a=a||m(s),r=0,i=o.length;i>r;r++)p(o[r],a[r]);else p(e,s);return a=m(s,"script"),a.length>0&&g(a,!l&&m(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=0,h=e.length,d=t.createDocumentFragment(),f=[];h>c;c++)if(i=e[c],i||0===i)if("object"===ot.type(i))ot.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(o=o||d.appendChild(t.createElement("div")),a=(Dt.exec(i)||["",""])[1].toLowerCase(),s=$t[a]||$t._default,o.innerHTML=s[1]+i.replace(Wt,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;ot.merge(f,o.childNodes),o=d.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",c=0;i=f[c++];)if((!r||-1===ot.inArray(i,r))&&(l=ot.contains(i.ownerDocument,i),o=m(d.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Bt.test(i.type||"")&&n.push(i);return d},cleanData:function(e){for(var n,r,o,a,s,l,u=ot.event.special,c=0;(r=e[c])!==t;c++){if(i.accepts(r)&&(s=r[bt.expando],s&&(n=bt.cache[s]))){if(o=Object.keys(n.events||{}),o.length)for(l=0;(a=o[l])!==t;l++)u[a]?ot.event.remove(r,a):ot.removeEvent(r,a,n.handle);bt.cache[s]&&delete bt.cache[s]}delete vt.cache[r[vt.expando]]}},_evalUrl:function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ot.fn.extend({wrapAll:function(e){var t;return ot.isFunction(e)?this.each(function(t){ot(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ot(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}});var Qt,Yt,Ut=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,Xt=new RegExp("^("+at+")(.*)$","i"),Gt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Zt=new RegExp("^([+-])=("+at+")","i"),Jt={BODY:"block"},Kt={position:"absolute",visibility:"hidden",display:"block"},en={letterSpacing:0,fontWeight:400},tn=["Top","Right","Bottom","Left"],nn=["Webkit","O","Moz","ms"];ot.fn.extend({css:function(e,n){return ot.access(this,function(e,n,r){var i,o,a={},s=0;if(ot.isArray(n)){for(i=N(e),o=n.length;o>s;s++)a[n[s]]=ot.css(e,n[s],!1,i);return a}return r!==t?ot.style(e,n,r):ot.css(e,n)},e,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?ot(this).show():ot(this).hide()})}}),ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=ot.camelCase(n),u=e.style;return n=ot.cssProps[l]||(ot.cssProps[l]=v(u,l)),s=ot.cssHooks[n]||ot.cssHooks[l],r===t?s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n]:(a=typeof r,"string"===a&&(o=Zt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(ot.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r)||("number"!==a||ot.cssNumber[l]||(r+="px"),ot.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t||(u[n]=r)),void 0)}},css:function(e,n,r,i){var o,a,s,l=ot.camelCase(n);return n=ot.cssProps[l]||(ot.cssProps[l]=v(e.style,l)),s=ot.cssHooks[n]||ot.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=Qt(e,n,i)),"normal"===o&&n in en&&(o=en[n]),""===r||r?(a=parseFloat(o),r===!0||ot.isNumeric(a)?a||0:o):o}}),Qt=function(e,n,r){var i,o,a,s=r||N(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||ot.contains(e.ownerDocument,e)||(l=ot.style(e,n)),Gt.test(l)&&Vt.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l},ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&Ut.test(ot.css(e,"display"))?ot.swap(e,Kt,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&N(e);return w(e,n,r?_(e,t,r,ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,i),i):0)}}}),ot(function(){ot.support.reliableMarginRight||(ot.cssHooks.marginRight={get:function(e,t){return t?ot.swap(e,{display:"inline-block"},Qt,[e,"marginRight"]):void 0}}),!ot.support.pixelPosition&&ot.fn.position&&ot.each(["top","left"],function(e,t){ot.cssHooks[t]={get:function(e,n){return n?(n=Qt(e,t),Gt.test(n)?ot(e).position()[t]+"px":n):void 0}}})}),ot.expr&&ot.expr.filters&&(ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+tn[r]+t]=o[r]||o[r-2]||o[0];return i}},Vt.test(e)||(ot.cssHooks[e+t].set=w)});var rn=/%20/g,on=/\[\]$/,an=/\r?\n/g,sn=/^(?:submit|button|image|reset|file)$/i,ln=/^(?:input|select|textarea|keygen)/i;ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&ln.test(this.nodeName)&&!sn.test(e)&&(this.checked||!jt.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(an,"\r\n")}}):{name:t.name,value:n.replace(an,"\r\n")}}).get()}}),ot.param=function(e,n){var r,i=[],o=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){o(this.name,this.value)});else for(r in e)k(r,e[r],n,o);return i.join("&").replace(rn,"+")},ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var un,cn,hn=ot.now(),dn=/\?/,fn=/#.*$/,gn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,vn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Nn=ot.fn.load,xn={},wn={},_n="*/".concat("*");try{cn=$.href}catch(Ln){cn=Q.createElement("a"),cn.href="",cn=cn.href}un=bn.exec(cn.toLowerCase())||[],ot.fn.load=function(e,n,r){if("string"!=typeof e&&Nn)return Nn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l),e=e.slice(0,l)),ot.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&ot.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?ot("<div>").append(ot.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cn,type:"GET",isLocal:mn.test(un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,ot.ajaxSettings),t):M(ot.ajaxSettings,e)},ajaxPrefilter:T(xn),ajaxTransport:T(wn),ajax:function(e,n){function r(e,n,r,s){var u,h,v,b,x,_=n;2!==N&&(N=2,l&&clearTimeout(l),i=t,a=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,r&&(b=A(d,w,r)),b=H(d,b,w,u),u?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ot.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ot.etag[o]=x)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,h=b.data,v=b.error,u=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),w.status=e,w.statusText=(n||_)+"",u?p.resolveWith(f,[h,_,w]):p.rejectWith(f,[w,_,v]),w.statusCode(y),y=t,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[w,d,u?h:v]),m.fireWith(f,[w,_]),c&&(g.trigger("ajaxComplete",[w,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,h,d=ot.ajaxSetup({},n),f=d.context||d,g=d.context&&(f.nodeType||f.jquery)?ot(f):ot.event,p=ot.Deferred(),m=ot.Callbacks("once memory"),y=d.statusCode||{},v={},b={},N=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===N){if(!s)for(s={};t=pn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===N?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return N||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return N||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>N)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),r(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||cn)+"").replace(fn,"").replace(vn,un[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(st)||[""],null==d.crossDomain&&(u=bn.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===un[1]&&u[2]===un[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(un[3]||("http:"===un[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),S(xn,d,n,w),2===N)return w;c=d.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!yn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(dn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=gn.test(o)?o.replace(gn,"$1_="+hn++):o+(dn.test(o)?"&":"?")+"_="+hn++)),d.ifModified&&(ot.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&w.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+_n+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)w.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===N))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](d[h]);if(i=S(wn,d,n,w)){w.readyState=1,c&&g.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{N=1,i.send(v,r)}catch(_){if(!(2>N))throw _;r(-1,_)}}else r(-1,"No Transport");return w},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,n){return ot.get(e,t,n,"script")}}),ot.each(["get","post"],function(e,n){ot[n]=function(e,r,i,o){return ot.isFunction(r)&&(o=o||i,i=r,r=t),ot.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ot("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Cn=[],En=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Cn.pop()||ot.expando+"_"+hn++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(En.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&En.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ot.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(En,"$1"+o):n.jsonp!==!1&&(n.url+=(dn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ot.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Cn.push(o)),s&&ot.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),ot.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var kn=ot.ajaxSettings.xhr(),Tn={0:200,1223:204},Sn=0,Mn={};e.ActiveXObject&&ot(e).on("unload",function(){for(var e in Mn)Mn[e]();Mn=t}),ot.support.cors=!!kn&&"withCredentials"in kn,ot.support.ajax=kn=!!kn,ot.ajaxTransport(function(e){var n;return ot.support.cors||kn&&!e.crossDomain?{send:function(r,i){var o,a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete Mn[a],n=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status||404,s.statusText):i(Tn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:t,s.getAllResponseHeaders()))}},s.onload=n(),s.onerror=n("error"),n=Mn[a=Sn++]=n("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:void 0});var An,Hn,Pn=/^(?:toggle|show|hide)$/,Rn=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),Wn=/queueHooks$/,Dn=[q],qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Rn.exec(t),o=i&&i[3]||(ot.cssNumber[e]?"":"px"),a=(ot.cssNumber[e]||"px"!==o&&+r)&&Rn.exec(ot.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ot.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ot.Animation=ot.extend(W,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],qn[n]=qn[n]||[],qn[n].unshift(t)},prefilter:function(e,t){t?Dn.unshift(e):Dn.push(e)}}),ot.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,i)}}),ot.fn.extend({fadeTo:function(e,t,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ot.isEmptyObject(e),o=ot.speed(t,n,r),a=function(){var t=W(this,ot.extend({},e),o);(i||bt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ot.timers,a=bt.get(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Wn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=bt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ot.timers,a=r?r.length:0;for(n.finish=!0,ot.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ot.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ot.speed=function(e,t,n){var r=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return r.duration=ot.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ot.fx.speeds?ot.fx.speeds[r.duration]:ot.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ot.isFunction(r.old)&&r.old.call(this),r.queue&&ot.dequeue(this,r.queue)},r},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.timers=[],ot.fx=F.prototype.init,ot.fx.tick=function(){var e,n=ot.timers,r=0;for(An=ot.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ot.fx.stop(),An=t},ot.fx.timer=function(e){e()&&ot.timers.push(e)&&ot.fx.start()},ot.fx.interval=13,ot.fx.start=function(){Hn||(Hn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(Hn),Hn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fx.step={},ot.expr&&ot.expr.filters&&(ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length}),ot.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;if(a)return n=a.documentElement,ot.contains(n,i)?(typeof i.getBoundingClientRect!==z&&(o=i.getBoundingClientRect()),r=I(a),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o
},ot.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ot.css(e,"position"),h=ot(e),d={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=ot.css(e,"top"),l=ot.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):h.css(d)}},ot.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ot.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(r=e.offset()),r.top+=ot.css(e[0],"borderTopWidth",!0),r.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ot.css(n,"marginTop",!0),left:t.left-r.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||Y})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;ot.fn[n]=function(o){return ot.access(this,function(n,o,a){var s=I(n);return a===t?s?s[r]:n[o]:void(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):n[o]=a)},n,o,arguments.length,null)}}),ot.each({Height:"height",Width:"width"},function(e,n){ot.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ot.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return ot.access(this,function(n,r,i){var o;return ot.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?ot.css(n,r,s):ot.style(n,r,i,s)},n,a?i:t,a,null)}})}),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ot:"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=ot)}(window),define("lib/news_special/iframemanager__frame",["jquery"],function(e){var t={postMessageAvailable:window.postMessage?!0:!1,init:function(){var t=this;this.setHeight(),this.startWatching(),this.postMessageAvailable?this.setupPostMessage():this.setupIframeBridge(),e.on("istats",function(e,n,r){t.setHeight(),t.registerIstatsCall(e,n,r)}),e.on("window:scrollTo",this.sendScrollToHost)},height:0,registerIstatsCall:function(e,t,n){var r={actionType:e,actionName:t,viewLabel:n};this.postMessageAvailable?this.sendDataByPostMessage(r):window.istatsQueue.push(r)},setupPostMessage:function(){var t=this;window.setInterval(this.sendDataByPostMessage,32),window.addEventListener("message",function(n){var r=t.getObjectNotationFromDataString(n.data);if(r){var i=r.parentScrollTop,o=r.iFrameOffset,a=e(".main").outerHeight(),s=r.viewportHeight,l={parentScrollTop:i,iFrameOffset:o,iFrameHeight:a,viewportHeight:s};e.emit("window:scroll",[l])}},!1)},getObjectNotationFromDataString:function(e){return e.indexOf("::")>-1?JSON.parse(e.split("::")[1]):!1},sendDataByPostMessage:function(e){var n=window.location.pathname,r={height:this.height,hostPageCallback:t.hostPageCallback};e&&(r.istats=e),window.parent.postMessage(n+"::"+JSON.stringify(r),"*")},setupIframeBridge:function(){window.setInterval(this.sendDataByIframeBridge,100),window.istatsQueue=[]},sendDataByIframeBridge:function(){window.iframeBridge={height:this.height,hostPageCallback:this.hostPageCallback}},startWatching:function(){window.setInterval(this.setHeight,32)},staticHeight:null,setStaticHeight:function(e){this.staticHeight=e},setHeight:function(){var t=[this.staticHeight||0];e(".main").length>0&&t.push(e(".main")[0].scrollHeight),this.height=Math.max.apply(Math,t)},hostPageCallback:!1,setHostPageInitialization:function(e){t.hostPageCallback=e.toString()},sendMessageToremoveLoadingImage:function(){var e,t;t=function(){var e=document.getElementById("bbc-news-visual-journalism-loading-spinner");e&&e.parentNode.removeChild(e)},e={hostPageCallback:t.toString()},this.postMessageAvailable&&window.parent.postMessage(window.location.pathname+"::"+JSON.stringify(e),"*")},sendScrollToHost:function(e,t){var n=window.location.pathname,r={scrollPosition:e,scrollDuration:t,hostPageCallback:!1};window.parent.postMessage(n+"::"+JSON.stringify(r),"*")}};return t}),define("lib/news_special/imager",["jquery"],function(e){var t=function(e){this.widths=e.availableWidths||[320,640,1024],this.regex=e.regex||/^(.+\/)\d+$/i,this.is_resizing=!1,this.change_divs_to_imgs(),this.init_resize_images()};return t.prototype={change_divs_to_imgs:function(){var t=this;e("div.delayed-image-load").each(function(n,r){if(r="number"!=typeof r?r:n,!(r.className.search("js-no_replace")>-1)){var i=r.className.replace("delayed-image-load",""),o=e('<img src="'+t.calc_img_src(r.getAttribute("data-src"),r.clientWidth)+'" alt="'+(r.getAttribute("data-alt")||"")+'" class="js-image_replace '+i+'" />');e(r).replaceWith(o[0])}})},calc_img_src:function(e,t){if(null===e)return!1;var n=e.match(this.regex)||e;return null===n||"string"==typeof n?!1:e.replace(/img\/(\d*)/,"img/"+this.match_closest_value(t,this.widths))},match_closest_value:function(e,t){for(var n=t[0],r=0,i=t.length;i>r;r++){if(e<t[r])return n;n=t[r]}return n},init_resize_images:function(){var e=this;window.addEventListener("resize",function(){e.resize_images()},!1)},resize_images:function(){var t=e(".js-image_replace"),n=this;this.is_resizing||(this.is_resizing=!0,null!==t&&t.each(function(){if(!e(this).hasClass("js-no_replace")){var t=n.calc_img_src(this.getAttribute("datasrc")||this.src,this.clientWidth);t&&this.src!==t&&(this.src=t)}}),this.is_resizing=!1)}},t}),define("lib/news_special/imager_image_sizes",[],function(){return[320,640,1024]}),define("pubsub",["jquery"],function(e){var t=e({});e.on=function(n,r){function i(){return r.apply(this,Array.prototype.slice.call(arguments,1))}i.guid=r.guid=r.guid||(e.guid?e.guid++:e.event.guid++),t.on(n,i)},e.off=function(){t.off.apply(t,arguments)},e.emit=function(){t.trigger.apply(t,arguments)}}),define("lib/news_special/bootstrap",["jquery","lib/news_special/iframemanager__frame","lib/news_special/imager","lib/news_special/imager_image_sizes","pubsub"],function(e,t,n,r){t.init();var i=new n({availableWidths:r,regex:/(\/news\/.*img\/)\d+(\/.*)$/i});return e.on("resize_images",function(){i.resize_images()}),e.on("init_images",function(){i.change_divs_to_imgs()}),{$:e,pubsub:e,setStaticIframeHeight:function(e){t.setStaticHeight(e)},hostPageSetup:function(e){t.setHostPageInitialization(e)},sendMessageToremoveLoadingImage:function(){t.sendMessageToremoveLoadingImage()}}}),define("model/eventStrs",["require"],function(){return{processExternalId:"processExternalId",displayEngland:"displayEngland",displayWales:"displayWales",displayScotland:"displayScotland",displayNorthernIreland:"displayNorthernIreland",hideEngland:"hideEngland",whoForSelected:"whoForSelected",userScroll:"window:scroll",showResults:"showResults",getMeansTestResult:"getMeansTestResult",dispalyMeansTestResult:"dispalyMeansTestResult",backToQuestions:"backToQuestions"}}),define("model/whoForModel",["require"],function(){var e={whoFor:void 0};return e}),define("mediator/whoForMediator",["lib/news_special/bootstrap","model/eventStrs","model/whoForModel"],function(e,t,n){var r=function(){this.$el=e.$(".whoForHolder"),this.init()};return r.prototype={init:function(){this.$el.find(".questionsBtnsHolder--btn").on("click",this.btnClicked.bind(this)),e.pubsub.on(t.showResults,this.handleDisplayResults.bind(this)),e.pubsub.on(t.backToQuestions,this.handleBackToQuestions.bind(this))},handleDisplayResults:function(){this.$el.hide()},handleBackToQuestions:function(){this.$el.fadeIn(200)},btnClicked:function(r){var i=e.$(r.currentTarget);this.$el.find(".questionsBtnsHolder--btn").removeClass("questionsBtnsHolder--btn__selected"),i.addClass("questionsBtnsHolder--btn__selected"),n.whoFor=i.data("who"),e.pubsub.emit(t.whoForSelected,n.whoFor)}},r}),define("model/northernIrelandTrusts",["require"],function(){var e=[{id:"NI_1",name:"Belfast Health and Social Care Trust",councilIds:["95GG","95II","95TT"]},{id:"NI_2",name:"Northern Health and Social Care Trust",councilIds:["95JJ","95UU","95EE","95DD","95QQ","95HH","95WW","95AA","95KK","95CC"]},{id:"NI_3",name:"South Eastern Health and Social Care Trust",councilIds:["95NN","95SS","95XX","95BB"]},{id:"NI_4",name:"Southern Health and Social Care Trust",councilIds:["95OO","95LL","95CC","95FF","95VV"]},{id:"NI_5",name:"Western Health and Social Care Trust",councilIds:["95RR","95MM","95ZZ","95YY","95PP"]}];return e}),function(e){"function"==typeof define&&define.amd?define("lib/vendors/jquery/jQuery.XDomainRequest",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,r=new RegExp("^"+location.protocol,"i");e.ajaxTransport("* text html xml json",function(i,o){if(i.crossDomain&&i.async&&n.test(i.type)&&t.test(i.url)&&r.test(i.url)){var a=null;return{send:function(t,n){var r="",s=(o.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(o.timeout)&&(a.timeout=o.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var t="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,r={code:200,message:"success"},i={text:a.responseText};try{if("html"===s||/text\/html/i.test(a.contentType))i.html=a.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(a.contentType))try{i.json=e.parseJSON(a.responseText)}catch(o){r.code=500,r.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(a.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(a.responseText)}catch(o){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+a.responseText;i.xml=l}}catch(u){throw u}finally{n(r.code,r.message,i,t)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},o.data&&(r="string"===e.type(o.data)?o.data:e.param(o.data)),a.open(i.type,i.url),a.send(r)},abort:function(){a&&a.abort()}}}})}}),define("mediator/postcodeFormMediator",["lib/news_special/bootstrap","model/eventStrs","model/northernIrelandTrusts","lib/vendors/jquery/jQuery.XDomainRequest"],function(e,t,n){var r=function(){this.elHolder=e.$(".postcodeFinderHolder"),this.formEl=e.$("#postcodeForm"),this.errorMessageHolder=e.$(".postcodeErrorHolder"),this.errorMessageP=this.errorMessageHolder.find("p"),this.postcodeInputEl=e.$("#postcodeInput"),this.entityCodeSafeList=["E06","E08","E09","E10","E11","W06","S12"],this.errorStrPostcodeInvalid="The postcode you entered did not pass validation",this.errorStrPostcodeNotFound="We couldn't find the postcode you entered",this.init()};return r.prototype={init:function(){this.formEl.on("submit",this.handleFormSubmit.bind(this)),e.pubsub.on(t.whoForSelected,this.displayForm.bind(this)),e.pubsub.on(t.showResults,this.handleDisplayResults.bind(this)),e.pubsub.on(t.backToQuestions,this.handleBackToQuestions.bind(this))},displayForm:function(){var e=this.elHolder;e.fadeIn(200,function(){e.removeClass("faddedElement")})},handleDisplayResults:function(){this.elHolder.hide()},handleBackToQuestions:function(){this.elHolder.fadeIn(200)},handleFormSubmit:function(e){e.preventDefault&&e.preventDefault(),this.errorMessageHolder.addClass("hidePostcodeError");var t,n=this.postcodeInputEl[0].value.replace(/\s/g,""),r=this.isValidPostcode(n),i=this;if(r){var o=this.isNorthernIrelandPostcode(n);o?(t="http://open.live.bbc.co.uk/locator/locations/"+n+"/details/gss-council?op=intersect&vv=2&dv=1.0&format=json",$.getJSON(t).done(function(e){i.handleNIPostcodeResponse(e)}).fail(this.handlePostcodeLoadError.bind(this))):(t="http://open.live.bbc.co.uk/locator/locations/"+n+"/details/gss-council?op=intersect&vv=2&format=json",$.getJSON(t).done(function(e){i.handlePostcodeResponse(e)}).fail(this.handlePostcodeLoadError.bind(this)))}else this.showPostcodeError(this.errorStrPostcodeInvalid);return!1},handlePostcodeResponse:function(n){var r,i,o,a=(JSON.stringify(n,null," "),n.response.content.details.details);if(a){var s,l=a.length,u=this.entityCodeSafeList.length;e:for(s=0;l>s;s++)if(a[s].data.entityCode){var c,h=a[s].data.entityCode;for(c=0;u>c;c++)if(h===this.entityCodeSafeList[c]){r=a[s].externalId,o=a[s].data.geographyName,i=a[s].data.entityCoverage;break e}}}r?e.pubsub.emit(t.processExternalId,{id:r,nation:i,authorityName:o}):this.showPostcodeError(this.errorStrPostcodeNotFound)},handleNIPostcodeResponse:function(n){var r,i,o=n.response.content.details.details;if(o)for(var a=o.length,s=0;a>s;s++){var l=o[s].detailType;if(l&&"gss-council"===l){var u=this.getNITrustInfo(o[s].externalId);if(null===u)break;r=u.id,i=u.name,console.log(u);break}}r?e.pubsub.emit(t.processExternalId,{id:r,nation:"NorthernIreland",authorityName:i}):this.showPostcodeError(this.errorStrPostcodeNotFound)},handlePostcodeLoadError:function(){this.showPostcodeError(this.errorStrPostcodeNotFound)},getNITrustInfo:function(e){var t=!1,r=null;e:for(var i=0;i<n.length;i++){r=n[i];for(var o=0;o<r.councilIds.length;o++)if(r.councilIds[o]===e){t=!0;break e}}return t?r:null},showPostcodeError:function(e){this.errorMessageHolder.removeClass("hidePostcodeError"),this.errorMessageP.html(e)},isValidPostcode:function(e){e=e.replace(/\s/g,"");var t=/^[A-Z]{1,2}[0-9]{1,2}([A-Z]{1,2})? ?[0-9][A-Z]{2}$/i,n=t.test(e);if(!n&&e.length>0&&e.length<=4){var r=e.substr(0,1),i=e.substr(e.length-1,1),o=/(?![qvxQVX])[a-zA-Z]/.test(r),a=(/[0-9]/.test(i),o?!0:!1);return a}return n},isNorthernIrelandPostcode:function(e){return"bt"===e.substr(0,2).toLowerCase()}},r}),define("data/dataset",{E06000016:{authorityName:"Leicester",regionName:"East Midlands",nursingLocal:"491.85",residentialLocal:" 551.6956",homeLocal:"113.96269",residentialRegion:"503.0108",residentialPrivate:"547"},E10000024:{authorityName:"Nottinghamshire",regionName:"East Midlands",nursingLocal:"565.82",residentialLocal:" 505.3348",homeLocal:"130.22805",residentialRegion:"503.0108",residentialPrivate:"547"},E10000019:{authorityName:"Lincolnshire",regionName:"East Midlands",nursingLocal:"441.59",residentialLocal:" 435.7698",homeLocal:"171.77998",residentialRegion:"503.0108",residentialPrivate:"547"},E10000007:{authorityName:"Derbyshire",regionName:"East Midlands",nursingLocal:"452.18",residentialLocal:" 545.8954",homeLocal:"181.40462",residentialRegion:"503.0108",residentialPrivate:"547"},E10000018:{authorityName:"Leicestershire",regionName:"East Midlands",nursingLocal:"518.59",residentialLocal:" 493.5629",homeLocal:"187.18736",residentialRegion:"503.0108",residentialPrivate:"547"},E10000021:{authorityName:"Northamptonshire",regionName:"East Midlands",nursingLocal:"567.29",residentialLocal:" 489.0664",homeLocal:"204.89130",residentialRegion:"503.0108",residentialPrivate:"547"},E06000018:{authorityName:"Nottingham",regionName:"East Midlands",nursingLocal:"499.65",residentialLocal:" 510.3312",homeLocal:"212.37517",residentialRegion:"503.0108",residentialPrivate:"547"},E06000015:{authorityName:"Derby",regionName:"East Midlands",nursingLocal:"435.70",residentialLocal:" 509.3782",homeLocal:"232.68180",residentialRegion:"503.0108",residentialPrivate:"547"},E06000017:{authorityName:"Rutland",regionName:"East Midlands",nursingLocal:"468.42",residentialLocal:" 486.0635",homeLocal:"296.11014",residentialRegion:"503.0108",residentialPrivate:"547"},E06000033:{authorityName:"Southend-on-Sea",regionName:"East of England",nursingLocal:"583.80",residentialLocal:" 544.5490",homeLocal:"119.45387",residentialRegion:"522.0567",residentialPrivate:"634"},E10000015:{authorityName:"Hertfordshire",regionName:"East of England",nursingLocal:"509.34",residentialLocal:" 561.5231",homeLocal:"156.27932",residentialRegion:"522.0567",residentialPrivate:"634"},E10000020:{authorityName:"Norfolk",regionName:"East of England",nursingLocal:"536.47",residentialLocal:" 522.6861",homeLocal:"161.95475",residentialRegion:"522.0567",residentialPrivate:"634"},E06000031:{authorityName:"Peterborough",regionName:"East of England",nursingLocal:"520.83",residentialLocal:" 449.1009",homeLocal:"164.54866",residentialRegion:"522.0567",residentialPrivate:"634"},E06000055:{authorityName:"Bedford",regionName:"East of England",nursingLocal:"544.82",residentialLocal:" 545.2169",homeLocal:"185.09190",residentialRegion:"522.0567",residentialPrivate:"634"},E10000012:{authorityName:"Essex",regionName:"East of England",nursingLocal:"565.87",residentialLocal:" 533.6965",homeLocal:"218.83077",residentialRegion:"522.0567",residentialPrivate:"634"},E06000056:{authorityName:"Central Bedfordshire",regionName:"East of England",nursingLocal:"516.44",residentialLocal:" 537.3455",homeLocal:"221.46802",residentialRegion:"522.0567",residentialPrivate:"634"},E06000034:{authorityName:"Thurrock",regionName:"East of England",nursingLocal:"741.18",residentialLocal:" 444.0043",homeLocal:"221.62156",residentialRegion:"522.0567",residentialPrivate:"634"},E10000003:{authorityName:"Cambridgeshire",regionName:"East of England",nursingLocal:"556.14",residentialLocal:" 446.7768",homeLocal:"231.84672",residentialRegion:"522.0567",residentialPrivate:"634"},E10000029:{authorityName:"Suffolk",regionName:"East of England",nursingLocal:"522.67",residentialLocal:" 689.9686",homeLocal:"275.05186",residentialRegion:"522.0567",residentialPrivate:"634"},E06000032:{authorityName:"Luton",regionName:"East of England",nursingLocal:"615.49",residentialLocal:" 467.7563",homeLocal:"296.59727",residentialRegion:"522.0567",residentialPrivate:"634"},E09000001:{authorityName:"City of London",regionName:"London",nursingLocal:"542.37",residentialLocal:" 529.8507",homeLocal:"  0.00000",residentialRegion:"653.9470",residentialPrivate:"615"},E09000028:{authorityName:"Southwark",regionName:"London",nursingLocal:"517.66",residentialLocal:" 544.7796",homeLocal:"130.64251",residentialRegion:"653.9470",residentialPrivate:"615"},E09000020:{authorityName:"Kensington and Chelsea",regionName:"London",nursingLocal:"651.04",residentialLocal:"1069.0488",homeLocal:"136.97079",residentialRegion:"653.9470",residentialPrivate:"615"},E09000025:{authorityName:"Newham",regionName:"London",nursingLocal:"522.91",residentialLocal:" 542.9551",homeLocal:"142.79970",residentialRegion:"653.9470",residentialPrivate:"615"},E09000008:{authorityName:"Croydon",regionName:"London",nursingLocal:"510.11",residentialLocal:" 887.6172",homeLocal:"149.21562",residentialRegion:"653.9470",residentialPrivate:"615"},E09000015:{authorityName:"Harrow",regionName:"London",nursingLocal:"555.72",residentialLocal:" 612.1601",homeLocal:"158.54204",residentialRegion:"653.9470",residentialPrivate:"615"},E09000003:{authorityName:"Barnet",regionName:"London",nursingLocal:"537.22",residentialLocal:" 601.0608",homeLocal:"159.52674",residentialRegion:"653.9470",residentialPrivate:"615"},E09000007:{authorityName:"Camden",regionName:"London",nursingLocal:"493.19",residentialLocal:" 714.3959",homeLocal:"159.79381",residentialRegion:"653.9470",residentialPrivate:"615"},E09000004:{authorityName:"Bexley",regionName:"London",nursingLocal:"571.75",residentialLocal:" 604.3745",homeLocal:"165.61693",residentialRegion:"653.9470",residentialPrivate:"615"},E09000006:{authorityName:"Bromley",regionName:"London",nursingLocal:"645.95",residentialLocal:" 606.6318",homeLocal:"165.63728",residentialRegion:"653.9470",residentialPrivate:"615"},E09000017:{authorityName:"Hillingdon",regionName:"London",nursingLocal:"589.02",residentialLocal:" 622.2829",homeLocal:"167.01938",residentialRegion:"653.9470",residentialPrivate:"615"},E09000019:{authorityName:"Islington",regionName:"London",nursingLocal:"590.77",residentialLocal:" 622.7043",homeLocal:"167.26818",residentialRegion:"653.9470",residentialPrivate:"615"},E09000016:{authorityName:"Havering",regionName:"London",nursingLocal:"544.91",residentialLocal:" 559.0119",homeLocal:"169.72566",residentialRegion:"653.9470",residentialPrivate:"615"},E09000005:{authorityName:"Brent",regionName:"London",nursingLocal:"479.24",residentialLocal:" 581.4671",homeLocal:"174.62837",residentialRegion:"653.9470",residentialPrivate:"615"},E09000032:{authorityName:"Wandsworth",regionName:"London",nursingLocal:"714.47",residentialLocal:" 648.0356",homeLocal:"176.30589",residentialRegion:"653.9470",residentialPrivate:"615"},E09000002:{authorityName:"Barking and Dagenham",regionName:"London",nursingLocal:"480.34",residentialLocal:" 538.4161",homeLocal:"185.11706",residentialRegion:"653.9470",residentialPrivate:"615"},E09000009:{authorityName:"Ealing",regionName:"London",nursingLocal:"698.39",residentialLocal:" 658.8392",homeLocal:"188.06668",residentialRegion:"653.9470",residentialPrivate:"615"},E09000018:{authorityName:"Hounslow",regionName:"London",nursingLocal:"609.17",residentialLocal:" 672.0607",homeLocal:"189.38561",residentialRegion:"653.9470",residentialPrivate:"615"},E09000027:{authorityName:"Richmond upon Thames",regionName:"London",nursingLocal:"636.19",residentialLocal:" 859.9642",homeLocal:"196.25922",residentialRegion:"653.9470",residentialPrivate:"615"},E09000022:{authorityName:"Lambeth",regionName:"London",nursingLocal:"669.20",residentialLocal:" 428.2498",homeLocal:"196.48247",residentialRegion:"653.9470",residentialPrivate:"615"},E09000023:{authorityName:"Lewisham",regionName:"London",nursingLocal:"697.88",residentialLocal:" 605.9523",homeLocal:"197.45022",residentialRegion:"653.9470",residentialPrivate:"615"},E09000013:{authorityName:"Hammersmith and Fulham",regionName:"London",nursingLocal:"701.38",residentialLocal:" 584.5740",homeLocal:"215.54755",residentialRegion:"653.9470",residentialPrivate:"615"},E09000014:{authorityName:"Haringey",regionName:"London",nursingLocal:"757.52",residentialLocal:" 660.4963",homeLocal:"221.77548",residentialRegion:"653.9470",residentialPrivate:"615"},E09000011:{authorityName:"Greenwich",regionName:"London",nursingLocal:"569.66",residentialLocal:" 695.3505",homeLocal:"222.78497",residentialRegion:"653.9470",residentialPrivate:"615"},E09000024:{authorityName:"Merton",regionName:"London",nursingLocal:"663.47",residentialLocal:" 529.3603",homeLocal:"228.80623",residentialRegion:"653.9470",residentialPrivate:"615"},E09000026:{authorityName:"Redbridge",regionName:"London",nursingLocal:"550.70",residentialLocal:" 643.1071",homeLocal:"229.03073",residentialRegion:"653.9470",residentialPrivate:"615"},E09000029:{authorityName:"Sutton",regionName:"London",nursingLocal:"513.72",residentialLocal:" 553.9265",homeLocal:"236.85967",residentialRegion:"653.9470",residentialPrivate:"615"},E09000021:{authorityName:"Kingston upon Thames",regionName:"London",nursingLocal:"476.19",residentialLocal:" 906.2146",homeLocal:"239.40765",residentialRegion:"653.9470",residentialPrivate:"615"},E09000033:{authorityName:"Westminster",regionName:"London",nursingLocal:"606.79",residentialLocal:" 871.9199",homeLocal:"244.36166",residentialRegion:"653.9470",residentialPrivate:"615"},E09000031:{authorityName:"Waltham Forest",regionName:"London",nursingLocal:"601.26",residentialLocal:" 821.1246",homeLocal:"251.69502",residentialRegion:"653.9470",residentialPrivate:"615"},E09000030:{authorityName:"Tower Hamlets",regionName:"London",nursingLocal:"558.61",residentialLocal:" 487.6352",homeLocal:"254.17316",residentialRegion:"653.9470",residentialPrivate:"615"},E09000010:{authorityName:"Enfield",regionName:"London",nursingLocal:"635.23",residentialLocal:" 659.0968",homeLocal:"266.75939",residentialRegion:"653.9470",residentialPrivate:"615"},E09000012:{authorityName:"Hackney",regionName:"London",nursingLocal:"622.86",residentialLocal:" 657.6009",homeLocal:"362.03347",residentialRegion:"653.9470",residentialPrivate:"615"},E06000002:{authorityName:"Middlesbrough",regionName:"North East",nursingLocal:"434.70",residentialLocal:" 482.2911",homeLocal:" 95.92731",residentialRegion:"500.3702",residentialPrivate:"515"},E08000023:{authorityName:"South Tyneside",regionName:"North East",nursingLocal:"567.79",residentialLocal:" 486.7958",homeLocal:"136.23434",residentialRegion:"500.3702",residentialPrivate:"515"},E06000047:{authorityName:"Durham",regionName:"North East",nursingLocal:"500.75",residentialLocal:" 530.6887",homeLocal:"143.42708",residentialRegion:"500.3702",residentialPrivate:"515"},E06000004:{authorityName:"Stockton-on-Tees",regionName:"North East",nursingLocal:"470.89",residentialLocal:" 493.7865",homeLocal:"144.43134",residentialRegion:"500.3702",residentialPrivate:"515"},E06000001:{authorityName:"Hartlepool",regionName:"North East",nursingLocal:"453.87",residentialLocal:" 464.6576",homeLocal:"145.32919",residentialRegion:"500.3702",residentialPrivate:"515"},E08000022:{authorityName:"North Tyneside",regionName:"North East",nursingLocal:"489.01",residentialLocal:" 484.0538",homeLocal:"147.17131",residentialRegion:"500.3702",residentialPrivate:"515"},E06000005:{authorityName:"Darlington",regionName:"North East",nursingLocal:"470.97",residentialLocal:" 447.8696",homeLocal:"159.95526",residentialRegion:"500.3702",residentialPrivate:"515"},E06000003:{authorityName:"Redcar and Cleveland",regionName:"North East",nursingLocal:"414.54",residentialLocal:" 388.3721",homeLocal:"178.66848",residentialRegion:"500.3702",residentialPrivate:"515"},E08000021:{authorityName:"Newcastle upon Tyne",regionName:"North East",nursingLocal:"613.33",residentialLocal:" 604.5687",homeLocal:"180.55839",residentialRegion:"500.3702",residentialPrivate:"515"},E06000057:{authorityName:"Northumberland",regionName:"North East",nursingLocal:"446.65",residentialLocal:" 496.5314",homeLocal:"217.95260",residentialRegion:"500.3702",residentialPrivate:"515"},E08000024:{authorityName:"Sunderland",regionName:"North East",nursingLocal:"485.10",residentialLocal:" 551.3788",homeLocal:"236.64417",residentialRegion:"500.3702",residentialPrivate:"515"},E08000037:{authorityName:"Gateshead",regionName:"North East",nursingLocal:"460.38",residentialLocal:" 573.4480",homeLocal:"260.11585",residentialRegion:"500.3702",residentialPrivate:"515"},E06000008:{authorityName:"Blackburn with Darwen",regionName:"North West",nursingLocal:"270.37",residentialLocal:" 411.1286",homeLocal:"105.78481",residentialRegion:"469.2400",residentialPrivate:"503"},E08000012:{authorityName:"Liverpool",regionName:"North West",nursingLocal:"535.05",residentialLocal:" 448.3937",homeLocal:"108.51090",residentialRegion:"469.2400",residentialPrivate:"503"},E08000004:{authorityName:"Oldham",regionName:"North West",nursingLocal:"493.55",residentialLocal:" 433.7851",homeLocal:"117.59615",residentialRegion:"469.2400",residentialPrivate:"503"},E08000006:{authorityName:"Salford",regionName:"North West",nursingLocal:"448.68",residentialLocal:" 441.5728",homeLocal:"120.75988",residentialRegion:"469.2400",residentialPrivate:"503"},E06000007:{authorityName:"Warrington",regionName:"North West",nursingLocal:"623.14",residentialLocal:" 485.2624",homeLocal:"121.37590",residentialRegion:"469.2400",residentialPrivate:"503"},E06000009:{authorityName:"Blackpool",regionName:"North West",nursingLocal:"431.74",residentialLocal:" 434.5635",homeLocal:"128.53403",residentialRegion:"469.2400",residentialPrivate:"503"},E08000014:{authorityName:"Sefton",regionName:"North West",nursingLocal:"495.66",residentialLocal:" 458.5208",homeLocal:"153.51165",residentialRegion:"469.2400",residentialPrivate:"503"},E08000013:{authorityName:"St. Helens",regionName:"North West",nursingLocal:"416.96",residentialLocal:" 512.6272",homeLocal:"154.96608",residentialRegion:"469.2400",residentialPrivate:"503"},E08000015:{authorityName:"Wirral",regionName:"North West",nursingLocal:"433.08",residentialLocal:" 431.6250",homeLocal:"160.83641",residentialRegion:"469.2400",residentialPrivate:"503"},E08000008:{authorityName:"Tameside",regionName:"North West",nursingLocal:"759.04",residentialLocal:" 501.0776",homeLocal:"162.16754",residentialRegion:"469.2400",residentialPrivate:"503"},E10000006:{authorityName:"Cumbria",regionName:"North West",nursingLocal:"519.87",residentialLocal:" 558.1572",homeLocal:"170.53098",residentialRegion:"469.2400",residentialPrivate:"503"},E10000017:{authorityName:"Lancashire",regionName:"North West",nursingLocal:"474.45",residentialLocal:" 445.7824",homeLocal:"173.53454",residentialRegion:"469.2400",residentialPrivate:"503"},E06000006:{authorityName:"Halton",regionName:"North West",nursingLocal:"490.43",residentialLocal:" 461.1609",homeLocal:"176.90578",residentialRegion:"469.2400",residentialPrivate:"503"},E08000011:{authorityName:"Knowsley",regionName:"North West",nursingLocal:"538.24",residentialLocal:" 475.2206",homeLocal:"179.93850",residentialRegion:"469.2400",residentialPrivate:"503"},E08000007:{authorityName:"Stockport",regionName:"North West",nursingLocal:"498.79",residentialLocal:" 443.5024",homeLocal:"180.18029",residentialRegion:"469.2400",residentialPrivate:"503"},E08000001:{authorityName:"Bolton",regionName:"North West",nursingLocal:"536.93",residentialLocal:" 496.3987",homeLocal:"182.68245",residentialRegion:"469.2400",residentialPrivate:"503"},E08000002:{authorityName:"Bury",regionName:"North West",nursingLocal:"444.24",residentialLocal:" 491.7468",homeLocal:"182.80573",residentialRegion:"469.2400",residentialPrivate:"503"},E08000009:{authorityName:"Trafford",regionName:"North West",nursingLocal:"492.63",residentialLocal:" 575.7970",homeLocal:"184.92006",residentialRegion:"469.2400",residentialPrivate:"503"},E08000010:{authorityName:"Wigan",regionName:"North West",nursingLocal:"466.73",residentialLocal:" 451.9524",homeLocal:"195.54212",residentialRegion:"469.2400",residentialPrivate:"503"},E08000005:{authorityName:"Rochdale",regionName:"North West",nursingLocal:"406.24",residentialLocal:" 431.3889",homeLocal:"196.93313",residentialRegion:"469.2400",residentialPrivate:"503"},E06000049:{authorityName:"Cheshire East",regionName:"North West",nursingLocal:"478.27",residentialLocal:" 502.0855",homeLocal:"220.73453",residentialRegion:"469.2400",residentialPrivate:"503"},E06000050:{authorityName:"Cheshire West and Chester",regionName:"North West",nursingLocal:"449.95",residentialLocal:" 463.5856",homeLocal:"233.11115",residentialRegion:"469.2400",residentialPrivate:"503"},E08000003:{authorityName:"Manchester",regionName:"North West",nursingLocal:"468.37",residentialLocal:" 437.2074",homeLocal:"251.45091",residentialRegion:"469.2400",residentialPrivate:"503"},E06000044:{authorityName:"Portsmouth",regionName:"South East",nursingLocal:"531.56",residentialLocal:" 631.6836",homeLocal:"109.99976",residentialRegion:"610.1000",residentialPrivate:"663"},E06000035:{authorityName:"Medway",regionName:"South East",nursingLocal:"442.23",residentialLocal:" 555.8695",homeLocal:"134.28641",residentialRegion:"610.1000",residentialPrivate:"663"},E06000045:{authorityName:"Southampton",regionName:"South East",nursingLocal:"511.19",residentialLocal:" 578.8716",homeLocal:"172.60751",residentialRegion:"610.1000",residentialPrivate:"663"},E06000046:{authorityName:"Isle of Wight",regionName:"South East",nursingLocal:"559.09",residentialLocal:" 496.0818",homeLocal:"175.88818",residentialRegion:"610.1000",residentialPrivate:"663"},E10000032:{authorityName:"West Sussex",regionName:"South East",nursingLocal:"537.70",residentialLocal:" 537.8417",homeLocal:"176.05010",residentialRegion:"610.1000",residentialPrivate:"663"},E10000016:{authorityName:"Kent",regionName:"South East",nursingLocal:"524.79",residentialLocal:" 524.2112",homeLocal:"180.70402",residentialRegion:"610.1000",residentialPrivate:"663"},E06000040:{authorityName:"Windsor and Maidenhead",regionName:"South East",nursingLocal:"571.83",residentialLocal:" 525.2973",homeLocal:"195.74176",residentialRegion:"610.1000",residentialPrivate:"663"},E06000038:{authorityName:"Reading",regionName:"South East",nursingLocal:"725.86",residentialLocal:" 783.6517",homeLocal:"198.50996",residentialRegion:"610.1000",residentialPrivate:"663"},E10000025:{authorityName:"Oxfordshire",regionName:"South East",nursingLocal:"698.63",residentialLocal:" 621.1987",homeLocal:"205.69153",residentialRegion:"610.1000",residentialPrivate:"663"},E10000002:{authorityName:"Buckinghamshire",regionName:"South East",nursingLocal:"544.81",residentialLocal:" 617.3956",homeLocal:"212.38706",residentialRegion:"610.1000",residentialPrivate:"663"},E10000011:{authorityName:"East Sussex",regionName:"South East",nursingLocal:"557.50",residentialLocal:" 703.3914",homeLocal:"212.56571",residentialRegion:"610.1000",residentialPrivate:"663"},E10000014:{authorityName:"Hampshire",regionName:"South East",nursingLocal:"683.49",residentialLocal:" 617.4987",homeLocal:"225.42638",residentialRegion:"610.1000",residentialPrivate:"663"},E06000037:{authorityName:"West Berkshire",regionName:"South East",nursingLocal:"650.36",residentialLocal:" 685.1897",homeLocal:"230.01296",residentialRegion:"610.1000",residentialPrivate:"663"},E06000036:{authorityName:"Bracknell Forest",regionName:"South East",nursingLocal:"615.68",residentialLocal:" 590.3322",homeLocal:"230.53064",residentialRegion:"610.1000",residentialPrivate:"663"},E06000042:{authorityName:"Milton Keynes",regionName:"South East",nursingLocal:"771.06",residentialLocal:" 487.1931",homeLocal:"231.94587",residentialRegion:"610.1000",residentialPrivate:"663"},E10000030:{authorityName:"Surrey",regionName:"South East",nursingLocal:"520.59",residentialLocal:" 687.2586",homeLocal:"248.27803",residentialRegion:"610.1000",residentialPrivate:"663"},E06000043:{authorityName:"Brighton and Hove",regionName:"South East",nursingLocal:"557.58",residentialLocal:" 628.8986",homeLocal:"262.04712",residentialRegion:"610.1000",residentialPrivate:"663"},E06000041:{authorityName:"Wokingham",regionName:"South East",nursingLocal:"772.24",residentialLocal:" 702.0336",homeLocal:"313.47371",residentialRegion:"610.1000",residentialPrivate:"663"},E06000039:{authorityName:"Slough",regionName:"South East",nursingLocal:"696.85",residentialLocal:" 617.9587",homeLocal:"398.55415",residentialRegion:"610.1000",residentialPrivate:"663"},E06000053:{authorityName:"Isles of Scilly",regionName:"South West",nursingLocal:".",residentialLocal:" 954.7739",homeLocal:" 84.13462",residentialRegion:"607.9700",residentialPrivate:"613"},E06000054:{authorityName:"Wiltshire",regionName:"South West",nursingLocal:"541.33",residentialLocal:" 587.4457",homeLocal:"124.80548",residentialRegion:"607.9700",residentialPrivate:"613"},E10000008:{authorityName:"Devon",regionName:"South West",nursingLocal:"536.98",residentialLocal:" 653.8968",homeLocal:"147.04515",residentialRegion:"607.9700",residentialPrivate:"613"},E10000027:{authorityName:"Somerset",regionName:"South West",nursingLocal:"508.90",residentialLocal:" 495.7089",homeLocal:"149.68103",residentialRegion:"607.9700",residentialPrivate:"613"},E06000024:{authorityName:"North Somerset",regionName:"South West",nursingLocal:"548.10",residentialLocal:" 464.9734",homeLocal:"154.42522",residentialRegion:"607.9700",residentialPrivate:"613"},E06000027:{authorityName:"Torbay",regionName:"South West",nursingLocal:"458.32",residentialLocal:" 422.8054",homeLocal:"162.10049",residentialRegion:"607.9700",residentialPrivate:"613"},E06000022:{authorityName:"Bath and North East Somerset",regionName:"South West",nursingLocal:"543.85",residentialLocal:" 751.9378",homeLocal:"176.47269",residentialRegion:"607.9700",residentialPrivate:"613"},E06000026:{authorityName:"Plymouth",regionName:"South West",nursingLocal:"692.56",residentialLocal:" 766.4124",homeLocal:"177.43766",residentialRegion:"607.9700",residentialPrivate:"613"},E06000025:{authorityName:"South Gloucestershire",regionName:"South West",nursingLocal:"510.75",residentialLocal:" 805.1310",homeLocal:"178.63563",residentialRegion:"607.9700",residentialPrivate:"613"},E06000052:{authorityName:"Cornwall",regionName:"South West",nursingLocal:"497.90",residentialLocal:" 438.6309",homeLocal:"216.43246",residentialRegion:"607.9700",residentialPrivate:"613"},E10000009:{authorityName:"Dorset",regionName:"South West",nursingLocal:"570.10",residentialLocal:" 696.2891",homeLocal:"222.17249",residentialRegion:"607.9700",residentialPrivate:"613"},E06000030:{authorityName:"Swindon",regionName:"South West",nursingLocal:"501.76",residentialLocal:" 562.0503",homeLocal:"231.11366",residentialRegion:"607.9700",residentialPrivate:"613"},E06000028:{authorityName:"Bournemouth",regionName:"South West",nursingLocal:"539.04",residentialLocal:" 494.7988",homeLocal:"235.84148",residentialRegion:"607.9700",residentialPrivate:"613"},E06000029:{authorityName:"Poole",regionName:"South West",nursingLocal:"643.97",residentialLocal:" 631.7964",homeLocal:"253.22289",residentialRegion:"607.9700",residentialPrivate:"613"},E06000023:{authorityName:"Bristol, City of",regionName:"South West",nursingLocal:"568.64",residentialLocal:" 764.3993",homeLocal:"259.40240",residentialRegion:"607.9700",residentialPrivate:"613"},E10000013:{authorityName:"Gloucestershire",regionName:"South West",nursingLocal:"571.85",residentialLocal:" 583.2336",homeLocal:"267.19944",residentialRegion:"607.9700",residentialPrivate:"613"},E06000021:{authorityName:"Stoke-on-Trent",regionName:"West Midlands",nursingLocal:"594.42",residentialLocal:" 506.0326",homeLocal:"149.38731",residentialRegion:"520.6000",residentialPrivate:"550"},E10000028:{authorityName:"Staffordshire",regionName:"West Midlands",nursingLocal:"420.36",residentialLocal:" 486.6640",homeLocal:"190.66610",residentialRegion:"520.6000",residentialPrivate:"550"},E08000031:{authorityName:"Wolverhampton",regionName:"West Midlands",nursingLocal:"483.54",residentialLocal:" 585.3633",homeLocal:"192.28184",residentialRegion:"520.6000",residentialPrivate:"550"},E06000019:{authorityName:"Herefordshire, County of",regionName:"West Midlands",nursingLocal:"630.72",residentialLocal:" 587.5024",homeLocal:"199.82540",residentialRegion:"520.6000",residentialPrivate:"550"},E08000027:{authorityName:"Dudley",regionName:"West Midlands",nursingLocal:"482.25",residentialLocal:" 573.0978",homeLocal:"200.78722",residentialRegion:"520.6000",residentialPrivate:"550"},E08000025:{authorityName:"Birmingham",regionName:"West Midlands",nursingLocal:"556.73",residentialLocal:" 571.8890",homeLocal:"222.40011",residentialRegion:"520.6000",residentialPrivate:"550"},E10000031:{authorityName:"Warwickshire",regionName:"West Midlands",nursingLocal:"467.94",residentialLocal:" 550.9163",homeLocal:"235.46864",residentialRegion:"520.6000",residentialPrivate:"550"},E08000028:{authorityName:"Sandwell",regionName:"West Midlands",nursingLocal:"420.31",residentialLocal:" 473.5060",homeLocal:"244.18229",residentialRegion:"520.6000",residentialPrivate:"550"},E10000034:{authorityName:"Worcestershire",regionName:"West Midlands",nursingLocal:"477.63",residentialLocal:" 489.4946",homeLocal:"248.75931",residentialRegion:"520.6000",residentialPrivate:"550"},E06000051:{authorityName:"Shropshire",regionName:"West Midlands",nursingLocal:"520.58",residentialLocal:" 452.3452",homeLocal:"253.14403",residentialRegion:"520.6000",residentialPrivate:"550"},E08000029:{authorityName:"Solihull",regionName:"West Midlands",nursingLocal:"542.56",residentialLocal:" 480.4702",homeLocal:"266.24089",residentialRegion:"520.6000",residentialPrivate:"550"},E06000020:{authorityName:"Telford and Wrekin",regionName:"West Midlands",nursingLocal:"511.11",residentialLocal:" 488.0374",homeLocal:"268.08437",residentialRegion:"520.6000",residentialPrivate:"550"},E08000026:{authorityName:"Coventry",regionName:"West Midlands",nursingLocal:"743.50",residentialLocal:" 537.4883",homeLocal:"288.89975",residentialRegion:"520.6000",residentialPrivate:"550"},E08000030:{authorityName:"Walsall",regionName:"West Midlands",nursingLocal:"500.79",residentialLocal:" 505.5577",homeLocal:"429.72506",residentialRegion:"520.6000",residentialPrivate:"550"},E08000017:{authorityName:"Doncaster",regionName:"Yorkshire and The Humber",nursingLocal:"454.52",residentialLocal:" 515.1702",homeLocal:"129.02748",residentialRegion:"495.5055",residentialPrivate:"490"},E06000012:{authorityName:"North East Lincolnshire",regionName:"Yorkshire and The Humber",nursingLocal:"383.37",residentialLocal:" 438.1848",homeLocal:"155.21587",residentialRegion:"495.5055",residentialPrivate:"490"},E06000011:{authorityName:"East Riding of Yorkshire",regionName:"Yorkshire and The Humber",nursingLocal:"572.09",residentialLocal:" 452.5926",homeLocal:"159.56377",residentialRegion:"495.5055",residentialPrivate:"490"},E08000033:{authorityName:"Calderdale",regionName:"Yorkshire and The Humber",nursingLocal:"478.07",residentialLocal:" 454.1450",homeLocal:"181.09408",residentialRegion:"495.5055",residentialPrivate:"490"},E08000032:{authorityName:"Bradford",regionName:"Yorkshire and The Humber",nursingLocal:"428.65",residentialLocal:" 552.3358",homeLocal:"181.93098",residentialRegion:"495.5055",residentialPrivate:"490"},E08000034:{authorityName:"Kirklees",regionName:"Yorkshire and The Humber",nursingLocal:"437.99",residentialLocal:" 574.7506",homeLocal:"187.70960",residentialRegion:"495.5055",residentialPrivate:"490"},E08000016:{authorityName:"Barnsley",regionName:"Yorkshire and The Humber",nursingLocal:"398.93",residentialLocal:" 399.1305",homeLocal:"194.48676",residentialRegion:"495.5055",residentialPrivate:"490"},E06000014:{authorityName:"York",regionName:"Yorkshire and The Humber",nursingLocal:"488.04",residentialLocal:" 537.0722",homeLocal:"197.24893",residentialRegion:"495.5055",residentialPrivate:"490"},E08000018:{authorityName:"Rotherham",regionName:"Yorkshire and The Humber",nursingLocal:"477.56",residentialLocal:" 553.1087",homeLocal:"202.71208",residentialRegion:"495.5055",residentialPrivate:"490"},E06000010:{authorityName:"Kingston upon Hull, City of",regionName:"Yorkshire and The Humber",nursingLocal:"145.44",residentialLocal:" 470.9035",homeLocal:"204.98945",residentialRegion:"495.5055",residentialPrivate:"490"},E10000023:{authorityName:"North Yorkshire",regionName:"Yorkshire and The Humber",nursingLocal:"509.63",residentialLocal:" 609.2816",homeLocal:"212.66045",residentialRegion:"495.5055",residentialPrivate:"490"},E08000035:{authorityName:"Leeds",regionName:"Yorkshire and The Humber",nursingLocal:"484.54",residentialLocal:" 611.0066",homeLocal:"221.00361",residentialRegion:"495.5055",residentialPrivate:"490"},E08000036:{authorityName:"Wakefield",regionName:"Yorkshire and The Humber",nursingLocal:"417.91",residentialLocal:" 462.2767",homeLocal:"223.68953",residentialRegion:"495.5055",residentialPrivate:"490"},E08000019:{authorityName:"Sheffield",regionName:"Yorkshire and The Humber",nursingLocal:"549.95",residentialLocal:" 355.2032",homeLocal:"261.62224",residentialRegion:"495.5055",residentialPrivate:"490"},E06000013:{authorityName:"North Lincolnshire",regionName:"Yorkshire and The Humber",nursingLocal:"416.70",residentialLocal:" 447.4206",homeLocal:"275.16860",residentialRegion:"495.5055",residentialPrivate:"490"}}),define("data/nations_dataset",{S12000023:{nation:"Scotland",name:"Orkney Islands Council",shortName:"Orkney Islands",hcHourCost_14_15:"NA",hcHours:" 3.700000",hcWeeklyCost:"115.1",residential:"445.92",nursing:"187.57",eligibility:"critical or substantial",nursingNotes:"NA"},S12000030:{nation:"Scotland",name:"Stirling Council",shortName:"Stirling",hcHourCost_14_15:"14.21",hcHours:" 9.980000",hcWeeklyCost:"132.43",residential:"199.55",nursing:"262.36",eligibility:"critical, substantial or moderate",nursingNotes:"NA"},S12000028:{nation:"Scotland",name:"South Ayrshire Council",shortName:"South Ayrshire",hcHourCost_14_15:"12.00 - 15.23",hcHours:" 9.000000",hcWeeklyCost:"108.36",residential:"251.71",nursing:"338.51",eligibility:"NA",nursingNotes:"NA"},S12000039:{nation:"Scotland",name:"West Dunbartonshire",shortName:"West Dunbartonshire",hcHourCost_14_15:"10.55 - 13.98",hcHours:" 7.700000",hcWeeklyCost:"NA",residential:"435.68",nursing:"351.3",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},S12000033:{nation:"Scotland",name:"Aberdeen City Council",shortName:"Aberdeen",hcHourCost_14_15:"10.61 - 22.00",hcHours:" 5.770000",hcWeeklyCost:"82.62",residential:"326.99",nursing:"355.76",eligibility:"critical or substantial",nursingNotes:"NA"},NI_5:{nation:"Northern Ireland",name:"Western Health & Social Care Trust",shortName:"Western Health and Social Care Trust",hcHourCost_14_15:"10.29 - 11.04",hcHours:"NA",hcWeeklyCost:"NA",residential:"238.69",nursing:"362.59",eligibility:"critical or substantial",nursingNotes:"NA"},S12000045:{nation:"Scotland",name:"East Dunbartonshire Council",shortName:"East Dunbartonshire",hcHourCost_14_15:"12.05",hcHours:"10.500000",hcWeeklyCost:"221.76",residential:"332.69",nursing:"410.55",eligibility:"critical or substantial",nursingNotes:"NA"},S12000011:{nation:"Scotland",name:"East Renfrewshire Council",shortName:"East Renfrewshire",hcHourCost_14_15:"12.74",hcHours:"12.800000",hcWeeklyCost:"161.1008",residential:"341.6",nursing:"421.26",eligibility:"NA",nursingNotes:"NA"},NI_2:{nation:"Northern Ireland",name:"Northern Health & Social care Trust",shortName:"Northern Health and Social Care Trust",hcHourCost_14_15:"12.74",hcHours:"12.800000",hcWeeklyCost:"161.1008",residential:"341.6",nursing:"421.26",eligibility:"NA",nursingNotes:"NA"},W06000010:{nation:"Wales",name:"Carmarthenshire County Council",shortName:"Carmarthenshire",hcHourCost_14_15:"13.17 - 19.06",hcHours:" 9.800000",hcWeeklyCost:"231.35",residential:"534.47",nursing:"431.35",eligibility:"critical or substantial",nursingNotes:"NA"},W06000012:{nation:"Wales",name:"Neath Port Talbot Council",shortName:"Neath Port Talbot",hcHourCost_14_15:"13.42 - 14.47",hcHours:" 5.800000",hcWeeklyCost:"NA",residential:"570.78",nursing:"458.79",eligibility:"critical or substantial",nursingNotes:"NA"},W06000019:{nation:"Wales",name:"Blaenau Gwent County Borough",shortName:"Blaenau Gwent",hcHourCost_14_15:"13.27",hcHours:"11.000000",hcWeeklyCost:"158",residential:"414.4",nursing:"472.71",eligibility:"NA",nursingNotes:"The rates stated for nursing care do not include the Funded Nursing Care cost which is paid by the Health Board. "},W06000013:{nation:"Wales",name:"Bridgend County Borough Council",shortName:"Bridgend",hcHourCost_14_15:"14.30",hcHours:" 9.330000",hcWeeklyCost:"NA",residential:"459",nursing:"489",eligibility:"moderate",nursingNotes:"Figure includes a quality premium of up to 47.\nNursing care costs are the responsibility of the NHS."},W06000021:{nation:"Wales",name:"Monmouthshire Council",shortName:"Monmouthshire",hcHourCost_14_15:"13.93",hcHours:" 9.600000",hcWeeklyCost:"132.96",residential:"478",nursing:"496",eligibility:"critical or substantial",nursingNotes:"NA"},S12000024:{nation:"Scotland",name:"Perth & Kinross Council",shortName:"Perth and Kinross",hcHourCost_14_15:"14.07 - 14.60",hcHours:" 7.800000",hcWeeklyCost:"133.58",residential:"395.72",nursing:"498.17",eligibility:"critical, substantial or moderate",nursingNotes:"NA"},W06000002:{nation:"Wales",name:"Gwynedd Council",shortName:"Gwynedd",hcHourCost_14_15:"14.50 - 17.89",hcHours:"10.470000",hcWeeklyCost:"155.83",residential:"421.19",nursing:"503.42",eligibility:"critical or substantial",nursingNotes:"NA"},W06000018:{nation:"Wales",name:"Caerphilly County Borough Council",shortName:"Caerphilly",hcHourCost_14_15:"13.70",hcHours:"10.980000",hcWeeklyCost:"NA",residential:"551",nursing:"504",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},W06000006:{nation:"Wales",name:"Wrexham County Borough Council",shortName:"Wrexham",hcHourCost_14_15:"13.53",hcHours:"10.650000",hcWeeklyCost:"143.36",residential:"450.51",nursing:"505.7",eligibility:"critical or substantial",nursingNotes:"NA"},S12000013:{nation:"Scotland",name:"Comhairle nan Eilean Siar (Western Isles Council)",shortName:"Eileanan an lar(Western Isles)",hcHourCost_14_15:"NA",hcHours:" 9.020000",hcWeeklyCost:"NA",residential:"749",nursing:"508",eligibility:"critical or substantial",nursingNotes:"NA"},W06000016:{nation:"Wales",name:"Rhondda Cynon Taf County Borough Council",shortName:"Rhondda Cynon Taf",hcHourCost_14_15:"13.53",hcHours:"12.600000",hcWeeklyCost:"169.36",residential:"516.220871165644",nursing:"508.4",eligibility:"critical, substantial, medium or low",nursingNotes:"Figures exclude the Free Nursing Care Element, which is paid for by NHS."},S12000017:{nation:"Scotland",name:"Highlands and Islands",shortName:"Highland",hcHourCost_14_15:"18.11",hcHours:" 6.500000",hcWeeklyCost:"NA",residential:"444.88",nursing:"514.24",eligibility:"NA",nursingNotes:"NA"},S12000026:{nation:"Scotland",name:"Scottish Borders Council",shortName:"Scottish Borders",hcHourCost_14_15:"12.30 - 19.21",hcHours:" 7.024788",hcWeeklyCost:"NA",residential:"439",nursing:"525.62",eligibility:"critical or substantial",nursingNotes:"NA"},W06000022:{nation:"Wales",name:"Newport Council",shortName:"Newport",hcHourCost_14_15:"12.61",hcHours:"NA",hcWeeklyCost:"NA",residential:"658.84",nursing:"530.42",eligibility:"NA",nursingNotes:"NA"},W06000020:{nation:"Wales",name:"Torfaen County Borough",shortName:"Torfaen",hcHourCost_14_15:"13.43",hcHours:" 6.520000",hcWeeklyCost:"86",residential:"545.16",nursing:"547.91",eligibility:"critical, substantial or moderate",nursingNotes:"NA"},W06000015:{nation:"Wales",name:"Cardiff Council",shortName:"Cardiff",hcHourCost_14_15:"9.93 - 18.26",hcHours:"13.570000",hcWeeklyCost:"193",residential:"505.51",nursing:"551.6",eligibility:"critical or substantial",nursingNotes:"NA"},S12000021:{nation:"Scotland",name:"North Ayrshire Council",shortName:"North Ayrshire",hcHourCost_14_15:"12.45",hcHours:" 9.060000",hcWeeklyCost:"493.22",residential:"475.478676461167",nursing:"555.937983863771",eligibility:"critical or substantial",nursingNotes:"NA"},NI_3:{nation:"Northern Ireland",name:"South Eastern Health & Social Care Trust",shortName:"South Eastern Health and Social Care Trust",hcHourCost_14_15:"11.90",hcHours:" 7.440000",hcWeeklyCost:"122.5",residential:"450",nursing:"567",eligibility:"NA",nursingNotes:"NA"},S12000008:{nation:"Scotland",name:"East Ayrshire Council",shortName:"East Ayrshire",hcHourCost_14_15:"11.42 - 11.47",hcHours:" 8.120000",hcWeeklyCost:"140.02",residential:"496.86",nursing:"577.2",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},S12000029:{nation:"Scotland",name:"South Lanarkshire Council",shortName:"South Lanarkshire",hcHourCost_14_15:"9.56 - 13.46",hcHours:" 9.620000",hcWeeklyCost:"110.25",residential:"509",nursing:"580",eligibility:"NA",nursingNotes:"NA"},S12000041:{nation:"Scotland",name:"Angus Council",shortName:"Angus",hcHourCost_14_15:"13.67",hcHours:" 6.600000",hcWeeklyCost:"91.21",residential:"499.38",nursing:"580.11",eligibility:"NA",nursingNotes:"NA"},S12000018:{nation:"Scotland",name:"Inverclyde Council",shortName:"Inverclyde",hcHourCost_14_15:"13.85",hcHours:" 8.200000",hcWeeklyCost:"113.57",residential:"499.38",nursing:"580.11",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},S12000038:{nation:"Scotland",name:"Renfrewshire Council",shortName:"Renfrewshire",hcHourCost_14_15:"13.25",hcHours:" 8.360000",hcWeeklyCost:"115.38",residential:"499.38",nursing:"580.11",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},S12000005:{nation:"Scotland",name:"Clackmananshire Council",shortName:"Clackmannanshire",hcHourCost_14_15:"12.55 - 12.78",hcHours:"NA",hcWeeklyCost:"122.03",residential:"499.38",nursing:"580.11",eligibility:"critical or substantial",nursingNotes:"NA"},S12000046:{nation:"Scotland",name:"Glasgow",shortName:"Glasgow",hcHourCost_14_15:"11.03 - 16.02",hcHours:" 9.910000",hcWeeklyCost:"126.95",residential:"499.38",nursing:"580.11",eligibility:"NA",nursingNotes:"NA"},S12000042:{nation:"Scotland",name:"Dundee City Council",shortName:"Dundee",hcHourCost_14_15:"13.70",hcHours:" 9.472267",hcWeeklyCost:"128.728109854604",residential:"499.38",nursing:"580.11",eligibility:"critical or substantial",nursingNotes:"NA"},S12000019:{nation:"Scotland",name:"Midlothian Council",shortName:"Midlothian",hcHourCost_14_15:"NA",hcHours:" 4.410000",hcWeeklyCost:"NA",residential:"499.38",nursing:"580.11",eligibility:"critical or substantial",nursingNotes:"NA"},S12000044:{nation:"Scotland",name:"North Lanarkshire Council",shortName:"North Lanarkshire",hcHourCost_14_15:"12.40",hcHours:" 6.140000",hcWeeklyCost:"97.34",residential:"499.68",nursing:"580.11",eligibility:"critical or substantial",nursingNotes:"NA"},S12000034:{nation:"Scotland",name:"Aberdeenshire Council",shortName:"Aberdeenshire",hcHourCost_14_15:"12.50 - 14.10",hcHours:"16.270000",hcWeeklyCost:"NA",residential:"500.11",nursing:"580.99",eligibility:"critical, substantial or moderate",nursingNotes:"NA"},S12000035:{nation:"Scotland",name:"Argyll & Bute Council",shortName:"Argyll and Bute",hcHourCost_14_15:"12.75 - 18.62",hcHours:" 9.070000",hcWeeklyCost:"93.83",residential:"793.29",nursing:"582.74",eligibility:"NA",nursingNotes:"NA"},S12000014:{nation:"Scotland",name:"Falkirk",shortName:"Falkirk",hcHourCost_14_15:"14.94",hcHours:" 3.800000",hcWeeklyCost:"55.71",residential:"583.71",nursing:"583.71",eligibility:"critical, substantial or medium",nursingNotes:"NA"},W06000023:{nation:"Wales",name:"Powys County Council",shortName:"Powys",hcHourCost_14_15:"14.94",hcHours:"NA",hcWeeklyCost:"NA",residential:"418.83",nursing:"584.08",eligibility:"critical, substantial or moderate",nursingNotes:"NA"},S12000010:{nation:"Scotland",name:"East Lothian Council",shortName:"East Lothian",hcHourCost_14_15:"14.68",hcHours:"14.230000",hcWeeklyCost:"208.28",residential:"638.76",nursing:"597.93",eligibility:"critical or substantial",nursingNotes:"NA"},W06000008:{nation:"Wales",name:"Ceredigion County Council",shortName:"Ceredigion",hcHourCost_14_15:"16.28",hcHours:"NA",hcWeeklyCost:"NA",residential:"486",nursing:"601.59",eligibility:"NA",nursingNotes:"This figure includes Free Nursing Care Element which is paid for by health board."},NI_1:{nation:"Northern Ireland",name:"Belfast Health & Social Care Trust",shortName:"Belfast Health and Social Care Trust",hcHourCost_14_15:"11.70",hcHours:"11.000000",hcWeeklyCost:"NA",residential:"525.415593542583",nursing:"603.439157706458",eligibility:"critical or substantial",nursingNotes:"NA"},W06000003:{nation:"Wales",name:"Conwy County Borough Council",shortName:"Conwy",hcHourCost_14_15:"14.04",hcHours:"11.000000",hcWeeklyCost:"104.94131225114",residential:"721.97",nursing:"609.81",eligibility:"critical or substantial",nursingNotes:"NA"},W06000009:{nation:"Wales",name:"Pembrokeshire Council",shortName:"Pembrokeshire",hcHourCost_14_15:"14.60",hcHours:"14.000000",hcWeeklyCost:"200.76",residential:"540.67",nursing:"611.92",eligibility:"critical or substantial",nursingNotes:"NA"},W06000011:{nation:"Wales",name:"City & County of Swansea",shortName:"Swansea",hcHourCost_14_15:"NA",hcHours:" 7.160000",hcWeeklyCost:"NA",residential:"470",nursing:"614.59",eligibility:"critical or substantial",nursingNotes:"NA"},W06000014:{nation:"Wales",name:"Vale of Glamorgan",shortName:"Vale of Glamorgan",hcHourCost_14_15:"12.50",hcHours:" 5.230000",hcWeeklyCost:"83",residential:"533.72",nursing:"621.12",eligibility:"critical or substantial",nursingNotes:"These figures do not include the Free Nursing Care element."},W06000005:{nation:"Wales",name:"Flintshire County Council",shortName:"Flintshire",hcHourCost_14_15:"14.71",hcHours:" 9.900000",hcWeeklyCost:"NA",residential:"450.51",nursing:"635.29",eligibility:"critical or substantial",nursingNotes:"NA"},W06000024:{nation:"Wales",name:"Merthyr Tydfil Council",shortName:"Merthyr Tydfil",hcHourCost_14_15:"11.92",hcHours:" 5.000000",hcWeeklyCost:"60.02",residential:"696",nursing:"687",eligibility:"critical or substantial",nursingNotes:"NA"},S12000040:{nation:"Scotland",name:"West Lothian Council",shortName:"West Lothian",hcHourCost_14_15:"1.83 - 27.72",hcHours:" 8.380000",hcWeeklyCost:"117",residential:"426.99",nursing:"NA",eligibility:"critical",nursingNotes:"NA"},NI_4:{nation:"Northern Ireland",name:"Southern Health & Social Care Trust",shortName:"Southern Health and Social Care Trust",hcHourCost_14_15:"NA",hcHours:"12.000000",hcWeeklyCost:"151.2",residential:"454.33",nursing:"NA",eligibility:"critical or substantial",nursingNotes:"NA"},S12000036:{nation:"Scotland",name:"Edinburgh",shortName:"Edinburgh",hcHourCost_14_15:"14.95",hcHours:"14.975725",hcWeeklyCost:"215.577305311175",residential:"588.953070596288",nursing:"NA",eligibility:"critical or substantial",nursingNotes:"NA"},S12000006:{nation:"Scotland",name:"Dumfries and Galloway Council",shortName:"Dumfries and Galloway",hcHourCost_14_15:"13.47",hcHours:"13.000000",hcWeeklyCost:"13.2",residential:"NA",nursing:"NA",eligibility:"critical",nursingNotes:"NA"},W06000004:{nation:"Wales",name:"Denbighshire",shortName:"Denbighshire",hcHourCost_14_15:"13.25 - 15.66",hcHours:" 7.700000",hcWeeklyCost:"73.83",residential:"NA",nursing:"NA",eligibility:"critical or substantial",nursingNotes:"NA"},S12000020:{nation:"Scotland",name:"Moray Council",shortName:"Moray",hcHourCost_14_15:"NA",hcHours:" 8.800000",hcWeeklyCost:"115",residential:"NA",nursing:"NA",eligibility:"critical or substantial",nursingNotes:"NA"},S12000015:{nation:"Scotland",name:"Fife Council",shortName:"Fife",hcHourCost_14_15:"14.47",hcHours:" 7.420000",hcWeeklyCost:"147.73",residential:"NA",nursing:"NA",eligibility:"critical or substantial",nursingNotes:"NA"},S12000027:{nation:"Scotland",name:"Shetland Islands Council",shortName:"Shetland Islands",hcHourCost_14_15:"11.77 - 14.52",hcHours:" 6.370000",hcWeeklyCost:"NA",residential:"NA",nursing:"NA",eligibility:"critical, substantial, moderate or low",nursingNotes:"NA"},W06000001:{nation:"Wales",name:"Isle of Anglesey Council",shortName:"Ynys Mn",hcHourCost_14_15:"14.50",hcHours:"NA",hcWeeklyCost:"NA",residential:"NA",nursing:"NA",eligibility:"critical, substantial or moderate",nursingNotes:"NA"}}),define("controller/externalIdController",["lib/news_special/bootstrap","model/eventStrs","data/dataset","data/nations_dataset"],function(e,t,n,r){var i=function(){this.testVar=!0,this.addEventListeners()
};return i.prototype={addEventListeners:function(){e.pubsub.on(t.processExternalId,this.handleExternalId.bind(this))},handleExternalId:function(e){if(n.hasOwnProperty(e.id)){var t=n[e.id];t.nation=e.nation,this.handleRegionResponse(t)}else{if(!r.hasOwnProperty(e.id))throw new Error("Data not found for id: "+e.id);var i=r[e.id];i.nation=e.nation,this.handleRegionResponse(i)}},handleRegionResponse:function(n){if("England"===n.nation){var r={};r.authorityName=n.authorityName,r.regionName=n.regionName,r.niGroup=n.niGroup,r.homeCare={},r.homeCare.localCost=parseFloat(n.homeLocal),r.residentialCare={},r.residentialCare.localCost=parseFloat(n.residentialLocal),r.residentialCare.regionCost=parseFloat(n.residentialRegion),r.residentialCare.privateCost=parseFloat(n.residentialPrivate),e.pubsub.emit(t.displayEngland,[r])}else e.pubsub.emit(t["display"+n.nation],[n])}},i}),define("mediator/nationsMediator",["lib/news_special/bootstrap","model/eventStrs"],function(e,t){var n=function(){this.nations=e.$(".nation"),this.northernIrelandEl=e.$(".nation__ni"),this.scotlandEl=e.$(".nation__scotland"),this.walesEl=e.$(".nation__wales"),this.init()};return n.prototype={init:function(){e.pubsub.on(t.displayNorthernIreland,this.displayNorthernIreland.bind(this)),e.pubsub.on(t.displayScotland,this.displayScotland.bind(this)),e.pubsub.on(t.displayWales,this.displayWales.bind(this))},displayNorthernIreland:function(n){e.pubsub.emit(t.hideEngland),this.nations.hide(),this.populateValuesOrUseAlternatives(this.northernIrelandEl,n),this.northernIrelandEl.slideDown(300)},displayScotland:function(n){e.pubsub.emit(t.hideEngland),this.nations.hide(),this.populateValuesOrUseAlternatives(this.scotlandEl,n),this.scotlandEl.slideDown(300)},displayWales:function(n){e.pubsub.emit(t.hideEngland),this.nations.hide(),this.populateValuesOrUseAlternatives(this.walesEl,n),this.walesEl.slideDown(300)},resetNationParagraphs:function(e){e.find(".nation--p").show(),e.find(".nation--p__alt").hide()},populateValuesOrUseAlternatives:function(e,t){var n=e.find("[data-dynamic-text]"),r=[];n.each(function(){var e=$(this).data("dynamicText"),n=t[e],i=$(this).parents(".nation--p");n&&"NA"!==n?$(this).text(n):$(this).data("notNeeded")!==!0?r.push(i):$(this).text("")}),this.hideDynamicShowAlts(r)},hideDynamicShowAlts:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.siblings("."+n.attr("id")+"_alt");n.hide(),r.show()}}},n}),define("mediator/weeklyCostsMediator",["lib/news_special/bootstrap","model/eventStrs","model/whoForModel"],function(e,t,n){var r=function(){this.testVar=!0,this.el=e.$(".weeklyAvgHolder"),this.authorityData=null,this.headerEl=this.el.find(".weeklyAvgHolder--header"),this.careAtHomeEl=this.el.find(".item__at-home"),this.residentialEl=this.el.find(".item__residential"),this.init()};return r.prototype={init:function(){e.pubsub.on(t.showResults,this.hide.bind(this)),e.pubsub.on(t.hideEngland,this.hide.bind(this)),e.pubsub.on(t.displayEngland,this.handleDisplayCosts.bind(this)),e.pubsub.on(t.whoForSelected,this.handleWhoForSelect.bind(this)),e.pubsub.on(t.backToQuestions,this.handleBackToQuestions.bind(this))},hide:function(){this.el.hide()},updateWeeklyCostHeader:function(e,t){e.siblings(".weeklyAvgHolder--item__price").html("&pound;"+parseFloat(t).toFixed(2))},handleBackToQuestions:function(){this.el.fadeIn(200)},updateHeader:function(){if(null!==this.authorityData){var e="self"===n.whoFor?"self-text":"else-text",t=this.headerEl.data(e).replace("{COUNCIL_NAME}",this.authorityData.authorityName);this.headerEl.text(t),this.updateWeeklyCostHeader(this.careAtHomeEl,this.authorityData.homeCare.localCost),this.updateWeeklyCostHeader(this.residentialEl,this.authorityData.residentialCare.localCost)}},handleDisplayCosts:function(e){this.authorityData=e,this.updateHeader();var t=this.el;t.slideDown(400,function(){t.removeClass("hiddenElement")})},handleWhoForSelect:function(e){var t="self"===e?"self-text":"else-text";this.el.find("[data-self-text]").each(function(){$(this).html($(this).data(t))}),this.careAtHomeEl.text(this.careAtHomeEl.data(t)),this.residentialEl.text(this.residentialEl.data(t)),this.updateHeader()}},r}),define("model/User",["lib/news_special/bootstrap"],function(e){function t(){var n=this;this._capital=0,this._property=0,this._income=0,this.properties={capitalShared:!1,propertyJointOwnership:!1,propertyShared:!1,ownsProperty:!1},e.$.each(n.properties,function(e){t.prototype[e]=function(t){return arguments.length?(n.properties[e]=1===t,n):n.properties[e]}}),this.init()}return t.prototype.init=function(){e.pubsub.on("userinput:button:1",this.ownsProperty.bind(this)),e.pubsub.on("userinput:button:2",this.propertyShared.bind(this)),e.pubsub.on("userinput:button:3",this.propertyJointOwnership.bind(this)),e.pubsub.on("userinput:button:6",this.capitalShared.bind(this)),e.pubsub.on("userinput:input:q4Form",this.property.bind(this)),e.pubsub.on("userinput:input:q5Form",this.capital.bind(this)),e.pubsub.on("userinput:input:q7Form",this.income.bind(this))},t.prototype.income=function(e){return arguments.length?(this._income=parseFloat(e),this):this._income},t.prototype.capital=function(e){return arguments.length?(this._capital=parseFloat(e),this):this.capitalShared()?this._capital/2:this._capital},t.prototype.property=function(e){return arguments.length?(this._property=parseFloat(e),this):this.propertyShared()?0:this.propertyJointOwnership()?this._property/2:this._property},t}),define("mediator/MeansTestInfoBox",["lib/news_special/bootstrap","model/eventStrs"],function(e,t){var n=function(t){this.meansTestMediator=t,this.meanTestHolder=e.$(".meansTestHolder"),this.el=this.meanTestHolder.find(".progress-box"),this.progressHelpHeader=this.el.find(".progress-box--info__header"),this.progressHelpText=this.el.find(".progress-box--info__text"),this.progressBarHolder=this.meanTestHolder.find(".bar-holder"),this.questionHolderArr=this.meanTestHolder.find(".questionBoxHolder"),this.currentProgress=0,this.helpDescriptions=this.meanTestHolder.find(".mobile-help"),this.lastScrollPosition=0,this.init()};return n.prototype={init:function(){this.enable(),e.pubsub.on(t.displayEngland,this.enable.bind(this)),e.pubsub.on(t.backToQuestions,this.enable.bind(this)),e.pubsub.on(t.hideEngland,this.disable.bind(this))},handleBackToQuestions:function(){e.pubsub.on(t.userScroll,this.respondToScroll.bind(this)),this.meanTestHolder.fadeIn(200)},enable:function(){e.pubsub.on(t.userScroll,this.respondToScroll.bind(this))},disable:function(){e.pubsub.off(t.userScroll)},resetProgress:function(){this.currentProgress=0},updateProgressBars:function(e){if(!(e<this.currentProgress)){this.currentProgress=e;var t=e+2,n=0;this.progressBarHolder.find(".bar-seperator--sub").each(function(){var e=$(this);t>n?(e.addClass("bar-seperator--sub__complete"),n++):e.removeClass("bar-seperator--sub__complete")}),this.progressBarHolder.find(".bar-seperator").each(function(){var e=$(this),t=!0;e.find(".bar-seperator--sub").each(function(){var e=$(this);return t=e.hasClass("bar-seperator--sub__complete"),t?void 0:!1}),t?e.addClass("bar-seperator__complete"):e.removeClass("bar-seperator__complete")})}},updateProgressBarText:function(e){var t=e.find(".mobile-help--title").html(),n=e.find(".mobile-help--info").not(".hiddenElement").html();this.progressHelpHeader.html(t),this.progressHelpText.html(n)},updateProgress:function(t){this.updateProgressBars(t);var n=$(this.helpDescriptions[t]);if(this.currentProgress<=t&&7>t){var r=$(this.questionHolderArr[t]).offset().top;e.pubsub.emit("window:scrollTo",[r,400])}this.updateProgressBarText(n)},moveToQuestion:function(e){if(e){var t=e.outerHeight(),n=this.el.outerHeight(),r=parseInt(e.css("margin-top"),10),i=e.position().top+.5*t-.5*n+r;this.el.css("top",i+"px"),this.meansTestMediator.removeAllSelectedClasses(),this.meansTestMediator.highlightQuestion(e),this.updateProgressBarText(e.next(".mobile-help"))}},respondToScroll:function(e){var t=this.getProgressBarOffset(e),n=t+e.viewportHeight/6,r=this.getNearestQuestion(n);this.moveToQuestion(r)},getProgressBarOffset:function(e){return e.parentScrollTop-e.iFrameOffset},getNearestQuestion:function(t){var n,r=null;if(this.lastScrollPosition===t)return $(".selectedQuestionBox");var i=t>this.lastScrollPosition;this.lastScrollPosition=t;var o=$(".selectedQuestionBox"),a=o.offset();if(i&&a&&t<a.top)return o;var s=this.questionHolderArr.not(".faddedElement"),l=s.last(),u=l.offset();if(u&&u.top<t)return l;var c=9999999;return s.each(function(){var i=e.$(this);n=i.offset().top;var o=Math.abs(n-t);c>o&&(c=o,r=i)}),r?r:this.q1El}},n}),define("mediator/meansTestQuestionsMediator",["lib/news_special/bootstrap","model/eventStrs","model/User","mediator/MeansTestInfoBox"],function(e,t,n,r){var i=function(){this.el=e.$(".meansTestHolder"),this.nations=e.$(".nation"),this.headerEl=this.el.find(".meansTestHolder-header"),this.headerInfoEl=this.el.find(".meansTestHolder-info"),this.questionHolderArr=this.el.find(".questionBoxHolder"),this.q1El=this.el.find(this.questionHolderArr[0]),this.q2El=this.el.find(this.questionHolderArr[1]),this.q3El=this.el.find(this.questionHolderArr[2]),this.q4El=this.el.find(this.questionHolderArr[3]),this.q5El=this.el.find(this.questionHolderArr[4]),this.q6El=this.el.find(this.questionHolderArr[5]),this.q7El=this.el.find(this.questionHolderArr[6]),this.q5ElSkip=this.el.find(".mobile-help--5__skip"),this.q5ElNoSkip=this.el.find(".mobile-help--5__no_skip"),this.userProgressed=!1,this.resultsButton=this.el.find(".resultsBtn"),this.showResultsBtn=e.$("#showResultsBtn"),this.answers=[],this.user=new n,this.infoBox=new r(this),this.init()};return i.prototype={init:function(){this.showResultsBtn.on("click",this.processMeansTest.bind(this)),e.pubsub.on(t.dispalyMeansTestResult,this.showResults.bind(this)),e.pubsub.on(t.displayEngland,this.handleDisplayMeansTest.bind(this)),e.pubsub.on(t.whoForSelected,this.handleWhoForSelect.bind(this)),e.pubsub.on(t.backToQuestions,this.handleBackToQuestions.bind(this)),e.pubsub.on(t.hideEngland,this.hide.bind(this)),this.questionHolderArr.find(".questionBtn").on("click",this.handleQuestionBtnClick.bind(this)),this.questionHolderArr.find(".questionsInputForm").on("submit",this.handleQuestionFormSubmit.bind(this))},handleWhoForSelect:function(t){var n="self"===t?"self-text":"else-text";this.el.find("[data-self-text]").each(function(){$(this).html($(this).data(n))}),n="self"===t?"self-examples":"else-examples",this.el.find("[data-self-examples]").each(function(){var t=$(this);t.empty();var r=t.data(n).split("{,}");e.$.each(r,function(e,n){var r=$("<div>").text(n).html();t.append('<div class="questionExampleHolder"><p>'+r+"</p></div>")})})},handleBackToQuestions:function(){this.el.fadeIn(200)},hide:function(){this.el.hide()},toggleQuestions:function(e,t){t=$.isArray(t)?t:[t];for(var n=0;n<t.length;n++){var r=t[n];e?(r.removeClass("hideQuestion"),r.next(".mobile-help").removeClass("hideQuestion")):(r.addClass("hideQuestion"),r.next(".mobile-help").addClass("hideQuestion"))}},handleDisplayMeansTest:function(){var e=this.el;this.infoBox.updateProgress(0),this.nations.hide(),e.slideDown(300,function(){e.removeClass("hiddenElement")}),this.toggleAllElInside(this.el.find(".faddedElement"),!1)},handleQuestionBtnClick:function(t){var n=t.currentTarget.id,r=Number(n.substr(1,1)),i=Number(n.substr(3,1)),o=1===i?2:1,a=this.el.find("#q"+r+"b"+o);a.removeClass("questionBtnSelectedAnswer");var s=e.$(t.currentTarget);s.hasClass("questionBtnSelectedAnswer")||s.addClass("questionBtnSelectedAnswer"),this.answers[r]=i,e.pubsub.emit("userinput:button:"+r,[i]),this.removeAllSelectedClasses(),this["handleQ"+r+"Answer"](i)},handleQuestionFormSubmit:function(t){t.preventDefault&&t.preventDefault();var n=t.currentTarget.id,r=Number(n.substr(1,1)),i=e.$(t.currentTarget),o=i.find(".questionsFormInputEl"),a=o[0].value,s=a?!isNaN(a):!1;return s&&(this.removeAllSelectedClasses(),this["handleQ"+r+"Answer"](a),e.pubsub.emit("userinput:input:"+n,[a])),!1},handleQ1Answer:function(e){var t;if(1===e){if(t=this.q2El,this.userProgressed){this.infoBox.resetProgress();var n=this;this.q2El.nextAll(".questionBoxHolder").each(function(){var e=$(this);n.toggleAllElInside(e,!1),n.toggleQuestions(!0,e)})}this.q5ElSkip.hide(),this.q5ElSkip.addClass("hiddenElement"),this.q5ElNoSkip.show(),this.q5ElNoSkip.removeClass("hiddenElement"),this.toggleQuestions(!0,[this.q2El,this.q3El,this.q4El]),this.infoBox.updateProgress(1)}else this.q2El.hasClass("hideQuestion")||this.toggleQuestions(!1,[this.q2El,this.q3El,this.q4El]),this.q5ElNoSkip.hide(),this.q5ElNoSkip.addClass("hiddenElement"),this.q5ElSkip.show(),this.q5ElSkip.removeClass("hiddenElement"),t=this.q5El,this.infoBox.updateProgress(4);this.showNextQuestion(t),this.infoBox.moveToQuestion(t),this.userProgressed=!0},handleQ2Answer:function(){this.infoBox.updateProgress(2),this.showNextQuestion(this.q3El),this.infoBox.moveToQuestion(this.q3El)},handleQ3Answer:function(){this.infoBox.updateProgress(3),this.showNextQuestion(this.q4El),this.infoBox.moveToQuestion(this.q4El)},handleQ4Answer:function(){this.infoBox.updateProgress(4),this.showNextQuestion(this.q5El),this.infoBox.moveToQuestion(this.q5El)},handleQ5Answer:function(){this.infoBox.updateProgress(5),this.showNextQuestion(this.q6El),this.infoBox.moveToQuestion(this.q6El)},handleQ6Answer:function(){this.infoBox.updateProgress(6),this.showNextQuestion(this.q7El),this.infoBox.moveToQuestion(this.q7El)},handleQ7Answer:function(){this.infoBox.updateProgress(7),this.resultsButton.removeClass("faddedElement"),this.toggleAllElInside(this.resultsButton,!0)},removeAllSelectedClasses:function(){this.el.find(".selectedQuestionBox").each(function(){$(this).removeClass("selectedQuestionBox"),$(this).addClass("unselectedQuestionBox"),$(this).next(".mobile-help").removeClass("mobile-help__active")})},highlightQuestion:function(e){e.addClass("selectedQuestionBox"),e.removeClass("unselectedQuestionBox");var t=e.next(".mobile-help");t.removeClass("faddedElement"),this.toggleAllElInside(t,!0),t.addClass("mobile-help__active")},showNextQuestion:function(e){this.highlightQuestion(e),e.removeClass("faddedElement"),this.toggleAllElInside(e,!0)},toggleAllElInside:function(e,t){e.find("*").addBack().prop("disabled",!t)},processMeansTest:function(){e.pubsub.emit(t.getMeansTestResult,[this.user])},showResults:function(n){this.scrollPageToTop(),this.el.hide(),e.pubsub.emit(t.showResults,[n])},scrollPageToTop:function(){e.pubsub.emit("window:scrollTo",[0,0])}},i}),define("model/MeansTestCalculator",["lib/news_special/bootstrap","model/eventStrs"],function(e,t){function n(e){this.user=null,this._numberOfWeeksAffordableBeforeHelp=null,this._meansTestThreshold=null,this._amountPaidBeforeSeekingHelp=0,this._weeklyCosts=0,this._swapOverPointReached=!1,this._cummulativeAssessmentWeeks=0,this._cummulativeStateSupport=0,this.init(e)}var r=27e3,i=118e3,o=17e3,a=230,s=72e3,l=250,u=24.4,c=85,h=52;return n.prototype.init=function(n){n&&this.setUser(n),e.pubsub.on(t.displayEngland,this.setWeeklyCosts.bind(this)),e.pubsub.on(t.getMeansTestResult,this.meansTestResult.bind(this))},n.prototype.setUser=function(e){return this.user=e,this.setMeansTestThreshold(),this},n.prototype.setWeeklyCosts=function(e){var t=parseFloat(e.residentialCare.localCost);if(isNaN(t))throw new Error("Expected weekly costs to be a number instead got "+e.residentialCare.localCost);return this._weeklyCosts=t,this},n.prototype.getWeeklyCosts=function(){return this._weeklyCosts},n.prototype.timeToReachCap=function(){return s/(this.getWeeklyCosts()-a)},n.prototype.setMeansTestThreshold=function(){return this._meansTestThreshold=this.user.ownsProperty()&&this.user.propertyShared()?r:i,this},n.prototype.getMeansTestThreshold=function(){return this._meansTestThreshold},n.prototype.getNetincome=function(){return Math.max(this.user.income()+c-u,0)},n.prototype.totalAssets=function(){return this.user.capital()+this.user.property()},n.prototype.accessibleTotalAssets=function(){return Math.max(this.totalAssets()-o,0)},n.prototype.assetsDepletionRate=function(){return Math.max(this.getWeeklyCosts()+u-c-this.user.income(),0)},n.prototype.numberOfWeeksAboveUpperCapitalLimit=function(){var e=this.totalAssets()-this.getMeansTestThreshold(),t=e>0?Math.min(e/this.assetsDepletionRate(),this.timeToReachCap()):0;return 0===this.assetsDepletionRate()?this.timeToReachCap():t},n.prototype.assetsValueAtCrossOverPoint=function(){return this.assetsDepletionRate()*l+o},n.prototype.numberOfWeeksToReachCrossOverPoint=function(){return 0===this.assetsDepletionRate()?this.totalAssets()>this.getMeansTestThreshold()?0:this.totalAssets()>=o?this.timeToReachCap():0:this.getMeansTestThreshold()<this.assetsValueAtCrossOverPoint()||this.totalAssets()<=this.assetsValueAtCrossOverPoint()?0:Math.min((this.getMeansTestThreshold()-this.assetsValueAtCrossOverPoint())/this.assetsDepletionRate(),this.timeToReachCap()-this.numberOfWeeksAboveUpperCapitalLimit())},n.prototype.assetsLevelAtTarrifIncomeCalculation=function(){return Math.min(this.assetsValueAtCrossOverPoint(),this.getMeansTestThreshold(),this.totalAssets())},n.prototype.numberOfWeeksInMeansTestedSupport=function(){return Math.max(this.timeToReachCap()-this.numberOfWeeksAboveUpperCapitalLimit()-this.numberOfWeeksToReachCrossOverPoint(),0)},n.prototype.assetsLevelAtCareCap=function(e){var t,n,r,i;return i=e-o,t=Math.floor(Math.max(i/l,0)),n=this.numberOfWeeksInMeansTestedSupport()-this._cummulativeAssessmentWeeks>h?h:this.numberOfWeeksInMeansTestedSupport()-this._cummulativeAssessmentWeeks,r=Math.max(u+this.getWeeklyCosts()-t-this.user.income(),0),i=e-n*t,this._cummulativeStateSupport+=n*r,this._cummulativeAssessmentWeeks+=n,h>n?i:this.assetsLevelAtCareCap(i)},n.prototype.averageTarriffIncome=function(){if(0===this.numberOfWeeksInMeansTestedSupport())return 0;var e=this.assetsLevelAtCareCap(this.assetsLevelAtTarrifIncomeCalculation());return(this.assetsLevelAtTarrifIncomeCalculation()-e)/this.numberOfWeeksInMeansTestedSupport()},n.prototype.averageMTSupport=function(){var e=this._cummulativeStateSupport/this._cummulativeAssessmentWeeks;return isNaN(e)?0:e},n.prototype.attendanceAllowancePays=function(){return c*(this.numberOfWeeksAboveUpperCapitalLimit()+this.numberOfWeeksToReachCrossOverPoint())},n.prototype.userPays=function(){return this.timeToReachCap()*this.getWeeklyCosts()-this.numberOfWeeksInMeansTestedSupport()*this.averageMTSupport()-this.attendanceAllowancePays()},n.prototype.councilPays=function(){return this.numberOfWeeksInMeansTestedSupport()*this.averageMTSupport()},n.prototype.totalPaidByUser=function(){return this.userPays()+this.attendanceAllowancePays()},n.prototype.totalCostOfCare=function(){return this.councilPays()+this.totalPaidByUser()},n.prototype.timeToReachCapDisplay=function(){var e=this.timeToReachCap(),t=Math.floor(e/52),n=Math.round(12*(e/52-t));return{years:t,months:n}},n.prototype.formatCurrencyForDisplay=function(e){return Math.round(100*e)/100},n.prototype.meansTestResult=function(n){this.setUser(n);var r,i=this,o=this.timeToReachCap();r={totalCareCosts:{user:this.totalPaidByUser(),council:i.councilPays(),total:this.totalCostOfCare(),attendanceAllowance:i.attendanceAllowancePays()},timeToReachCap:i.timeToReachCapDisplay(),livingCosts:a,careCosts:i.formatCurrencyForDisplay(this.getWeeklyCosts()-a),livingCostsTotal:i.formatCurrencyForDisplay(o*a),propertyIncluded:!i.user.propertyShared()},e.pubsub.emit(t.dispalyMeansTestResult,[r])},n}),define("lib/news_special/template_engine",["lib/news_special/bootstrap"],function(){var e={},t=function n(t,r){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<~%").join("	").replace(/((^|%~>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%~>/g,"',$1,'").split("	").join("');").split("%~>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[t]=e[t]||n(document.getElementById(t).innerHTML);return r?i(r):i};return t}),!function(){function e(e){return"function"==typeof e?e:function(){return e}}function t(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function n(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function r(e){return e.rangeExtent?e.rangeExtent():n(e.range())}function i(e){for(var t=1;e*t%1;)t*=10;return t}function o(){}function a(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function s(){this._=Object.create(null)}function l(e){return(e+="")===Ki||e[0]===eo?eo+e:e}function u(e){return(e+="")[0]===eo?e.slice(1):e}function c(e){return l(e)in this._}function h(e){return(e=l(e))in this._&&delete this._[e]}function d(){var e=[];for(var t in this._)e.push(u(t));return e}function f(){var e=0;for(var t in this._)++e;return e}function g(){for(var e in this._)return!1;return!0}function p(e,t,n){return this instanceof p?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof p?new p(e.h,e.s,e.l):H(""+e,P,p):new p(e,t,n)}function m(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new T(i(e+120),i(e),i(e-120))}function y(e){return((e=Math.exp(e))-1/e)/2}function v(e){return((e=Math.exp(e))+1/e)/2}function b(e){return((e=Math.exp(2*e))-1)/(e+1)}function N(e,t,n){return this instanceof N?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof N?new N(e.h,e.c,e.l):e instanceof w?L(e.l,e.a,e.b):L((e=R((e=Fi.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new N(e,t,n)}function x(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new w(n,Math.cos(e*=ao)*t,Math.sin(e)*t)}function w(e,t,n){return this instanceof w?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof w?new w(e.l,e.a,e.b):e instanceof N?x(e.h,e.c,e.l):R((e=T(e)).r,e.g,e.b):new w(e,t,n)}function _(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=C(i)*co,r=C(r)*ho,o=C(o)*fo,new T(k(3.2404542*i-1.5371385*r-.4985314*o),k(-.969266*i+1.8760108*r+.041556*o),k(.0556434*i-.2040259*r+1.0572252*o))}function L(e,t,n){return e>0?new N(Math.atan2(n,t)*so,Math.sqrt(t*t+n*n),e):new N(0/0,0/0,e)}function C(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function E(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function k(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function T(e,t,n){return this instanceof T?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof T?new T(e.r,e.g,e.b):H(""+e,T,m):new T(e,t,n)}function S(e){return new T(e>>16,255&e>>8,255&e)}function M(e){return S(e)+""}function A(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function H(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(D(i[0]),D(i[1]),D(i[2]))}return(o=mo.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,l=15&o,l=l<<4|l):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function P(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new p(r,i,l)}function R(e,t,n){e=W(e),t=W(t),n=W(n);var r=E((.4124564*e+.3575761*t+.1804375*n)/co),i=E((.2126729*e+.7151522*t+.072175*n)/ho),o=E((.0193339*e+.119192*t+.9503041*n)/fo);return w(116*i-16,500*(r-i),200*(i-o))}function W(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function D(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function q(e,t){e=Fi.rgb(e),t=Fi.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+A(Math.round(n+o*e))+A(Math.round(r+a*e))+A(Math.round(i+s*e))}}function F(e,t){var n,r={},i={};for(n in e)n in t?r[n]=O(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function j(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(O(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function I(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function B(e,t){var n,r,i,o=yo.lastIndex=vo.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=yo.exec(e))&&(r=vo.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:I(n,r)})),o=vo.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;t>r;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function O(e,t){for(var n,r=Fi.interpolators.length;--r>=0&&!(n=Fi.interpolators[r](e,t)););return n}function z(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function $(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Q(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Y(e){return e}function U(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function V(e,t){var n=Math.pow(10,3*Ji(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function X(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:Y;return function(e){var n=No.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],g=1,p="",m="",y=!1,v=!0;switch(d&&(d=+d.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),f){case"n":h=!0,f="g";break;case"%":g=100,m="%",f="f";break;case"p":g=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+f.toLowerCase());case"c":v=!1;case"d":y=!0,d=0;break;case"s":g=-1,f="r"}"$"===l&&(p=i[0],m=i[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=xo.get(f)||G;var b=u&&h;return function(e){var n=m;if(y&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>g){var l=Fi.formatPrefix(e,d);e=l.scale(e),n=l.symbol+m}else e*=g;e=f(e,d);var N,x,w=e.lastIndexOf(".");if(0>w){var _=v?e.lastIndexOf("e"):-1;0>_?(N=e,x=""):(N=e.substring(0,_),x=e.substring(_))}else N=e.substring(0,w),x=t+e.substring(w+1);!u&&h&&(N=o(N,1/0));var L=p.length+N.length+x.length+(b?0:i.length),C=c>L?new Array(L=c-L+1).join(r):"";return b&&(N=o(C+N,C.length?c-x.length:1/0)),i+=p,e=N+x,("<"===a?i+e+C:">"===a?C+i+e:"^"===a?C.substring(0,L>>=1)+i+e+C.substring(L):i+(b?e:C+e))+n}}}function G(e){return e+""}function Z(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function J(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new Lo(n-1)),1),n}function o(e,n){return t(e=new Lo(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{Lo=Z;var r=new Z;return r._=e,a(r,t,n)}finally{Lo=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var l=e.utc=K(e);return l.floor=l,l.round=K(r),l.ceil=K(i),l.offset=K(o),l.range=s,e}function K(e){return function(t,n){try{Lo=Z;var r=new Z;return r._=t,e(r,n)._}finally{Lo=Date}}}function et(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Eo[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=T[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(e.slice(l,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&Lo!==Z,a=new(o?Z:Lo);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(0|r.Z/100),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,l=t.length,u=n.length;l>s;){if(r>=u)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=S[a in Eo?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){N.lastIndex=0;var r=N.exec(t.slice(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){L.lastIndex=0;var r=L.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,T.c.toString(),t,r)}function l(e,t,r){return n(e,T.x.toString(),t,r)}function u(e,t,r){return n(e,T.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var h=e.dateTime,d=e.date,f=e.time,g=e.periods,p=e.days,m=e.shortDays,y=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{Lo=Z;var t=new Lo;return t._=e,r(t)}finally{Lo=Date}}var r=t(e);return n.parse=function(e){try{Lo=Z;var t=r.parse(e);return t&&t._}finally{Lo=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=Nt;var b=Fi.map(),N=nt(p),x=rt(p),w=nt(m),_=rt(m),L=nt(y),C=rt(y),E=nt(v),k=rt(v);g.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return m[e.getDay()]},A:function(e){return p[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return y[e.getMonth()]},c:t(h),d:function(e,t){return tt(e.getDate(),t,2)},e:function(e,t){return tt(e.getDate(),t,2)},H:function(e,t){return tt(e.getHours(),t,2)},I:function(e,t){return tt(e.getHours()%12||12,t,2)},j:function(e,t){return tt(1+_o.dayOfYear(e),t,3)},L:function(e,t){return tt(e.getMilliseconds(),t,3)},m:function(e,t){return tt(e.getMonth()+1,t,2)},M:function(e,t){return tt(e.getMinutes(),t,2)},p:function(e){return g[+(e.getHours()>=12)]},S:function(e,t){return tt(e.getSeconds(),t,2)},U:function(e,t){return tt(_o.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tt(_o.mondayOfYear(e),t,2)},x:t(d),X:t(f),y:function(e,t){return tt(e.getFullYear()%100,t,2)},Y:function(e,t){return tt(e.getFullYear()%1e4,t,4)},Z:vt,"%":function(){return"%"}},S={a:r,A:i,b:o,B:a,c:s,d:dt,e:dt,H:gt,I:gt,j:ft,L:yt,m:ht,M:pt,p:c,S:mt,U:ot,w:it,W:at,x:l,X:u,y:lt,Y:st,Z:ut,"%":bt};return t}function tt(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function nt(e){return new RegExp("^(?:"+e.map(Fi.requote).join("|")+")","i")}function rt(e){for(var t=new s,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function it(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ot(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function at(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function st(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.y=ct(+r[0]),n+r[0].length):-1}function ut(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function ct(e){return e+(e>68?1900:2e3)}function ht(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ft(e,t,n){ko.lastIndex=0;
var r=ko.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function gt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yt(e,t,n){ko.lastIndex=0;var r=ko.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vt(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=0|Ji(t)/60,i=Ji(t)%60;return n+tt(r,"0",2)+tt(i,"0",2)}function bt(e,t,n){To.lastIndex=0;var r=To.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nt(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function xt(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function wt(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function _t(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Mo}function Lt(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function Ct(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function Et(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=Fi.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function kt(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Et:xt,l=r?Q:$;return a=i(e,t,l,n),s=i(t,e,l,O),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(z)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return At(e,t)},o.tickFormat=function(t,n){return Ht(e,t,n)},o.nice=function(t){return St(e,t),i()},o.copy=function(){return kt(e,t,n,r)},i()}function Tt(e,t){return Fi.rebind(e,t,"range","rangeRound","interpolate","clamp")}function St(e,t){return wt(e,_t(Mt(e,t)[2]))}function Mt(e,t){null==t&&(t=10);var r=n(e),i=r[1]-r[0],o=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*o;return.15>=a?o*=10:.35>=a?o*=5:.75>=a&&(o*=2),r[0]=Math.ceil(r[0]/o)*o,r[1]=Math.floor(r[1]/o)*o+.5*o,r[2]=o,r}function At(e,t){return Fi.range.apply(Fi,Mt(e,t))}function Ht(e,t,n){var r=Mt(e,t);if(n){var i=No.exec(n);if(i.shift(),"s"===i[8]){var o=Fi.formatPrefix(Math.max(Ji(r[0]),Ji(r[1])));return i[7]||(i[7]="."+Pt(o.scale(r[2]))),i[8]="f",n=Fi.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+Rt(i[8],r)),n=i.join("")}else n=",."+Pt(r[2])+"f";return Fi.format(n)}function Pt(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Rt(e,t){var n=Pt(t[2]);return e in Ho?Math.abs(n-Pt(Math.max(Ji(t[0]),Ji(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Wt(e,t,r,i){function o(e){return(r?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return r?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(o(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(o)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(o)),s):t},s.nice=function(){var t=wt(i.map(o),r?Math:Ro);return e.domain(t),i=t.map(a),s},s.ticks=function(){var e=n(i),s=[],l=e[0],u=e[1],c=Math.floor(o(l)),h=Math.ceil(o(u)),d=t%1?2:t;if(isFinite(h-c)){if(r){for(;h>c;c++)for(var f=1;d>f;f++)s.push(a(c)*f);s.push(a(c))}else for(s.push(a(c));c++<h;)for(var f=d-1;f>0;f--)s.push(a(c)*f);for(c=0;s[c]<l;c++);for(h=s.length;s[h-1]>u;h--);s=s.slice(c,h)}return s},s.tickFormat=function(e,t){if(!arguments.length)return Po;arguments.length<2?t=Po:"function"!=typeof t&&(t=Fi.format(t));var n,i=Math.max(.1,e/s.ticks().length),l=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(e){return e/a(l(o(e)+n))<=i?t(e):""}},s.copy=function(){return Wt(e.copy(),t,r,i)},Tt(s,e)}function Dt(e,t,n){function r(t){return e(i(t))}var i=qt(t),o=qt(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return At(n,e)},r.tickFormat=function(e,t){return Ht(n,e,t)},r.nice=function(e){return r.domain(St(n,e))},r.exponent=function(a){return arguments.length?(i=qt(t=a),o=qt(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Dt(e.copy(),t,n)},Tt(r,e)}function qt(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Ft(e,t){function r(n){return a[((o.get(n)||("range"===t.t?o.set(n,e.push(n)):0/0))-1)%a.length]}function i(t,n){return Fi.range(e.length).map(function(e){return t+n*e})}var o,a,l;return r.domain=function(n){if(!arguments.length)return e;e=[],o=new s;for(var i,a=-1,l=n.length;++a<l;)o.has(i=n[a])||o.set(i,e.push(i));return r[t.t].apply(r,t.a)},r.range=function(e){return arguments.length?(a=e,l=0,t={t:"range",a:arguments},r):a},r.rangePoints=function(n,o){arguments.length<2&&(o=0);var s=n[0],u=n[1],c=(u-s)/(Math.max(1,e.length-1)+o);return a=i(e.length<2?(s+u)/2:s+c*o/2,c),l=0,t={t:"rangePoints",a:arguments},r},r.rangeBands=function(n,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var u=n[1]<n[0],c=n[u-0],h=n[1-u],d=(h-c)/(e.length-o+2*s);return a=i(c+d*s,d),u&&a.reverse(),l=d*(1-o),t={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(n,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var u=n[1]<n[0],c=n[u-0],h=n[1-u],d=Math.floor((h-c)/(e.length-o+2*s)),f=h-c-(e.length-o)*d;return a=i(c+Math.round(f/2),d),u&&a.reverse(),l=Math.round(d*(1-o)),t={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return l},r.rangeExtent=function(){return n(t.a[0])},r.copy=function(){return Ft(e,t)},r.domain(e)}function jt(e){return null===e?0/0:+e}function It(e){return!isNaN(e)}function Bt(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=Fi.quantile(e,n/o);return r}function r(e){return isNaN(e=+e)?void 0:t[Fi.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(jt).filter(It).sort(Lt),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return Bt(e,t)},n()}function Ot(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/o+e,[t,t+1/o]},r.copy=function(){return Ot(e,t,n)},i()}function zt(e,t){function n(n){return n>=n?t[Fi.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return zt(e,t)},n}function $t(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return At(e,t)},t.tickFormat=function(t,n){return Ht(e,t,n)},t.copy=function(){return $t(e)},t}function Qt(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Io.length;r>n;++n){var i=Io[n]+t;if(i in e)return i}}function Yt(e){return jo(e,Qo),e}function Ut(e){return"function"==typeof e?e:function(){return Bo(e,this)}}function Vt(e){return"function"==typeof e?e:function(){return Oo(e,this)}}function Xt(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Fi.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function Gt(e){return e.trim().replace(/\s+/g," ")}function Zt(e){return new RegExp("(?:^|\\s+)"+Fi.requote(e)+"(?:\\s+|$)","g")}function Jt(e){return(e+"").trim().split(/^|\s+/)}function Kt(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=Jt(e).map(en);var i=e.length;return"function"==typeof t?r:n}function en(e){var t=Zt(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",Gt(i+" "+e))):n.setAttribute("class",Gt(i.replace(t," ")))}}function tn(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function nn(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function rn(e){return"function"==typeof e?e:(e=Fi.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function on(){this._=Object.create(null)}function an(e){return{__data__:e}}function sn(e){return function(){return $o(this,e)}}function ln(e){return arguments.length||(e=Lt),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function un(){}function cn(){}function hn(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new s;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function dn(){Fi.event.preventDefault()}function fn(){for(var e,t=Fi.event;e=t.sourceEvent;)t=e;return t}function gn(e){for(var t=new cn,n=0,r=arguments.length;++n<r;)t[arguments[n]]=hn(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=Fi.event;i.target=e,Fi.event=i,t[i.type].apply(n,r)}finally{Fi.event=o}}},t}function pn(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=l(t,Ii(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+Fi.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),l=mn;s>0&&(e=e.slice(0,s));var u=Yo.get(e);return u&&(e=u,l=yn),s?t?i:r:t?un:o}function mn(e,t){return function(n){var r=Fi.event;Fi.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Fi.event=r}}}function yn(e,t){var n=mn(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function vn(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function bn(e){return jo(e,Uo),e}function Nn(e){var t,n;return function(r,i,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<l;);return a}}function xn(){var e=this.__transition__;e&&++e.active}function wn(e){return e.innerRadius}function _n(e){return e.outerRadius}function Ln(e){return e.startAngle}function Cn(e){return e.endAngle}function En(){return!0}function kn(e){return e[0]}function Tn(e){return e[1]}function Sn(t){function n(n){function s(){c.push("M",a(t(h),l))}for(var u,c=[],h=[],d=-1,f=n.length,g=e(r),p=e(i);++d<f;)o.call(this,u=n[d],d)?h.push([+g.call(this,u,d),+p.call(this,u,d)]):h.length&&(s(),h=[]);return h.length&&s(),c.length?c.join(""):null}var r=kn,i=Tn,o=En,a=Mn,s=a.key,l=.7;return n.x=function(e){return arguments.length?(r=e,n):r},n.y=function(e){return arguments.length?(i=e,n):i},n.defined=function(e){return arguments.length?(o=e,n):o},n.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Zo.get(e)||Mn).key,n):s},n.tension=function(e){return arguments.length?(l=e,n):l},n}function Mn(e){return e.join("L")}function An(e){return Mn(e)+"Z"}function Hn(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Pn(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Rn(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Wn(e,t){return e.length<4?Mn(e):e[1]+Fn(e.slice(1,e.length-1),jn(e,t))}function Dn(e,t){return e.length<3?Mn(e):e[0]+Fn((e.push(e[0]),e),jn([e[e.length-2]].concat(e,[e[1]]),t))}function qn(e,t){return e.length<3?Mn(e):e[0]+Fn(e,jn(e,t))}function Fn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Mn(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,l++)o=e[l],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function jn(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function In(e){if(e.length<3)return Mn(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",$n(ea,a),",",$n(ea,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Qn(l,a,s);return e.pop(),l.push("L",r),l.join("")}function Bn(e){if(e.length<4)return Mn(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push($n(ea,o)+","+$n(ea,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Qn(n,o,a);return n.join("")}function On(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[$n(ea,a),",",$n(ea,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Qn(t,a,s);return t.join("")}function zn(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,u=-1;++u<=n;)r=e[u],i=u/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return In(e)}function $n(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Qn(e,t,n){e.push("C",$n(Jo,t),",",$n(Jo,n),",",$n(Ko,t),",",$n(Ko,n),",",$n(ea,t),",",$n(ea,n))}function Yn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Un(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Yn(i,o);++t<n;)r[t]=(a+(a=Yn(i=o,o=e[t+1])))/2;return r[t]=a,r}function Vn(e){for(var t,n,r,i,o=[],a=Un(e),s=-1,l=e.length-1;++s<l;)t=Yn(e[s],e[s+1]),Ji(t)<oo?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Xn(e){return e.length<3?Mn(e):e[0]+Fn(e,Vn(e))}function Gn(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]+Xo,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Zn(t){function n(n){function u(){m.push("M",l(t(v),d),h,c(t(y.reverse()),d),"Z")}for(var f,g,p,m=[],y=[],v=[],b=-1,N=n.length,x=e(r),w=e(o),_=r===i?function(){return g}:e(i),L=o===a?function(){return p}:e(a);++b<N;)s.call(this,f=n[b],b)?(y.push([g=+x.call(this,f,b),p=+w.call(this,f,b)]),v.push([+_.call(this,f,b),+L.call(this,f,b)])):y.length&&(u(),y=[],v=[]);return y.length&&u(),m.length?m.join(""):null}var r=kn,i=kn,o=0,a=Tn,s=En,l=Mn,u=l.key,c=l,h="L",d=.7;return n.x=function(e){return arguments.length?(r=i=e,n):i},n.x0=function(e){return arguments.length?(r=e,n):r},n.x1=function(e){return arguments.length?(i=e,n):i},n.y=function(e){return arguments.length?(o=a=e,n):a},n.y0=function(e){return arguments.length?(o=e,n):o},n.y1=function(e){return arguments.length?(a=e,n):a},n.defined=function(e){return arguments.length?(s=e,n):s},n.interpolate=function(e){return arguments.length?(u="function"==typeof e?l=e:(l=Zo.get(e)||Mn).key,c=l.reverse||l,h=l.closed?"M":"L",n):u},n.tension=function(e){return arguments.length?(d=e,n):d},n}function Jn(e){return e.source}function Kn(e){return e.target}function er(e){return e.radius}function tr(e){return[e.x,e.y]}function nr(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Xo;return[n*Math.cos(r),n*Math.sin(r)]}}function rr(){return 64}function ir(){return"circle"}function or(e){var t=Math.sqrt(e/no);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ar(){var e=sr(),t=lr()-e;t>24?(isFinite(t)&&(clearTimeout(oa),oa=setTimeout(ar,t)),ia=0):(ia=1,ua(ar))}function sr(){var e=Date.now();for(aa=na;aa;)e>=aa.t&&(aa.f=aa.c(e-aa.t)),aa=aa.n;return e}function lr(){for(var e,t=na,n=1/0;t;)t.f?t=e?e.n=t.n:na=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return ra=e,n}function ur(e,t){return jo(e,da),e.id=t,e}function cr(e){var t=[e.a,e.b],n=[e.c,e.d],r=dr(t),i=hr(t,n),o=dr(fr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*so,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*so:0}function hr(e,t){return e[0]*t[0]+e[1]*t[1]}function dr(e){var t=Math.sqrt(hr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function fr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function gr(e,t){var n,r=[],i=[],o=Fi.transform(e),a=Fi.transform(t),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,h=o.skew,d=a.skew,f=o.scale,g=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:I(s[0],l[0])},{i:3,x:I(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:I(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:I(h,d)}):d&&r.push(r.pop()+"skewX("+d+")"),f[0]!=g[0]||f[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:I(f[0],g[0])},{i:n-2,x:I(f[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function pr(e,t,n,r){var i=e.id;return vn(e,"function"==typeof n?function(e,o,a){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,o,a)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function mr(e){return null==e&&(e=""),function(){this.textContent=e}}function yr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function vr(e){return function(t){return 1-e(1-t)}}function br(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Nr(e){return e*e}function xr(e){return e*e*e}function wr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function _r(e){return function(t){return Math.pow(t,e)}}function Lr(e){return 1-Math.cos(e*io)}function Cr(e){return Math.pow(2,10*(e-1))}function Er(e){return 1-Math.sqrt(1-e*e)}function kr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ro*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ro/t)}}function Tr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Sr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Mr(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),o=i[n];if(!o){var a=r.time;o=i[n]={tween:new s,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Fi.timer(function(r){function s(r){return i.active>n?u():(i.active=n,o.event&&o.event.start.call(e,c,t),o.tween.forEach(function(n,r){(r=r.call(e,c,t))&&p.push(r)}),void Fi.timer(function(){return g.c=l(r||1)?En:l,1},0,a))}function l(r){if(i.active!==n)return u();for(var a=r/f,s=h(a),l=p.length;l>0;)p[--l].call(e,s);return a>=1?(o.event&&o.event.end.call(e,c,t),u()):void 0}function u(){return--i.count?delete i[n]:delete e.__transition__,1}var c=e.__data__,h=o.ease,d=o.delay,f=o.duration,g=aa,p=[];return g.t=d+a,r>=d?s(r-d):void(g.c=s)},0,a)}}function Ar(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Hr(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Pr(){var e=".dragsuppress-"+ ++xa,t="click"+e,n=Fi.select(zi).on("touchmove"+e,dn).on("dragstart"+e,dn).on("selectstart"+e,dn);if(Na){var r=Oi.style,i=r[Na];r[Na]="none"}return function(o){function a(){n.on(t,null)}n.on(e,null),Na&&(r[Na]=i),o&&(n.on(t,function(){dn(),a()},!0),setTimeout(a,0))}}function Rr(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>wa&&(zi.scrollX||zi.scrollY)){n=Fi.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();wa=!(i.f||i.e),n.remove()}return wa?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function Wr(e){for(var t=e.source,n=e.target,r=qr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Dr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function qr(e,t){if(e===t)return e;for(var n=Dr(e),r=Dr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Fr(){return Fi.event.changedTouches[0].identifier}function jr(){return Fi.event.target}function Ir(){return zi}function Br(e){return e.x}function Or(e){return e.y}function zr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function $r(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=t.nodes;l[0]&&$r(e,l[0],n,r,a,s),l[1]&&$r(e,l[1],a,r,i,s),l[2]&&$r(e,l[2],n,s,a,o),l[3]&&$r(e,l[3],a,s,i,o)}}function Qr(e){e.fixed|=2}function Yr(e){e.fixed&=-7}function Ur(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Vr(e){e.fixed&=-5}function Xr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(Xr(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Gr(e,t){return Fi.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ni,e}function Zr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Jr(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function Kr(e){return e.children}function ei(e){return e.value}function ti(e,t){return t.value-e.value}function ni(e){return Fi.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ri(e){return e.x}function ii(e){return e.y}function oi(e,t,n){e.y0=t,e.y=n}function ai(e){return Fi.range(e.length)}function si(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function li(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function ui(e){return e.reduce(ci,0)}function ci(e,t){return e+t[1]}function hi(e,t){return di(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function di(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function fi(e){return[Fi.min(e),Fi.max(e)]}function gi(e,t){return e.value-t.value}function pi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function mi(e,t){e._pack_next=t,t._pack_prev=e}function yi(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function vi(e){function t(e){c=Math.min(e.x-e.r,c),h=Math.max(e.x+e.r,h),d=Math.min(e.y-e.r,d),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,h=-1/0,d=1/0,f=-1/0;if(n.forEach(bi),r=n[0],r.x=-r.r,r.y=0,t(r),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(o=n[2],wi(r,i,o),t(o),pi(r,o),r._pack_prev=o,pi(o,i),i=r._pack_next,a=3;u>a;a++){wi(r,i,o=n[a]);var g=0,p=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,p++)if(yi(s,o)){g=1;break}if(1==g)for(l=r._pack_prev;l!==s._pack_prev&&!yi(l,o);l=l._pack_prev,m++);g?(m>p||p==m&&i.r<r.r?mi(r,i=s):mi(r=l,i),a--):(pi(r,o),i=o,t(o))}var y=(c+h)/2,v=(d+f)/2,b=0;for(a=0;u>a;a++)o=n[a],o.x-=y,o.y-=v,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(Ni)}}function bi(e){e._pack_next=e._pack_prev=e}function Ni(e){delete e._pack_next,delete e._pack_prev}function xi(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)xi(i[o],t,n,r)}function wi(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+u*o,n.y=e.y+l*o-u*i}else n.x=e.x+r,n.y=e.y}function _i(e,t){return e.parent==t.parent?1:2}function Li(e){var t=e.children;return t.length?t[0]:e.t}function Ci(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ei(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ki(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ti(e,t,n){return e.a.parent===t.parent?e.a:n}function Si(e){return 1+Fi.max(e,function(e){return e.y})}function Mi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ai(e){var t=e.children;return t&&t.length?Ai(t[0]):e}function Hi(e){var t,n=e.children;return n&&(t=n.length)?Hi(n[t-1]):e}function Pi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ri(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Wi(e,t){e=Fi.hcl(e),t=Fi.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return x(n+o*e,r+a*e,i+s*e)+""}}function Di(e,t){e=Fi.hsl(e),t=Fi.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return m(n+o*e,r+a*e,i+s*e)+""}}function qi(e,t){e=Fi.lab(e),t=Fi.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return _(n+o*e,r+a*e,i+s*e)+""}}var Fi={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var ji=[].slice,Ii=function(e){return ji.call(e)},Bi=document,Oi=Bi.documentElement,zi=window;try{Ii(Oi.childNodes)[0].nodeType}catch($i){Ii=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Bi.createElement("div").style.setProperty("opacity",0,"")}catch(Qi){var Yi=zi.Element.prototype,Ui=Yi.setAttribute,Vi=Yi.setAttributeNS,Xi=zi.CSSStyleDeclaration.prototype,Gi=Xi.setProperty;Yi.setAttribute=function(e,t){Ui.call(this,e,t+"")},Yi.setAttributeNS=function(e,t,n){Vi.call(this,e,t,n+"")},Xi.setProperty=function(e,t,n){Gi.call(this,e,t+"",n)}}Fi.functor=e;var Zi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Fi.ns={prefix:Zi,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Zi.hasOwnProperty(n)?{space:Zi[n],local:e}:e}},Fi.rebind=function(e,n){for(var r,i=1,o=arguments.length;++i<o;)e[r=arguments[i]]=t(e,n,n[r]);return e},Fi.scale={};var Ji=Math.abs;Fi.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var r,o=[],a=i(Ji(n)),s=-1;if(e*=a,t*=a,n*=a,0>n)for(;(r=e+n*++s)>t;)o.push(r/a);else for(;(r=e+n*++s)<t;)o.push(r/a);return o},Fi.color=o,o.prototype.toString=function(){return this.rgb()+""},Fi.map=function(e){var t=new s;if(e instanceof s)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t};var Ki="__proto__",eo="\x00";a(s,{has:c,get:function(e){return this._[l(e)]},set:function(e,t){return this._[l(e)]=t},remove:h,keys:d,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:u(t),value:this._[t]});return e},size:f,empty:g,forEach:function(e){for(var t in this._)e.call(this,u(t),this._[t])}}),Fi.hsl=p;var to=p.prototype=new o;to.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new p(this.h,this.s,this.l/e)},to.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new p(this.h,this.s,e*this.l)},to.rgb=function(){return m(this.h,this.s,this.l)};var no=Math.PI,ro=2*no,io=no/2,oo=1e-6,ao=no/180,so=180/no;Fi.hcl=N;var lo=N.prototype=new o;lo.brighter=function(e){return new N(this.h,this.c,Math.min(100,this.l+uo*(arguments.length?e:1)))},lo.darker=function(e){return new N(this.h,this.c,Math.max(0,this.l-uo*(arguments.length?e:1)))},lo.rgb=function(){return x(this.h,this.c,this.l).rgb()},Fi.lab=w;var uo=18,co=.95047,ho=1,fo=1.08883,go=w.prototype=new o;go.brighter=function(e){return new w(Math.min(100,this.l+uo*(arguments.length?e:1)),this.a,this.b)},go.darker=function(e){return new w(Math.max(0,this.l-uo*(arguments.length?e:1)),this.a,this.b)},go.rgb=function(){return _(this.l,this.a,this.b)},Fi.rgb=T;var po=T.prototype=new o;po.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new T(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new T(i,i,i)},po.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new T(e*this.r,e*this.g,e*this.b)},po.hsl=function(){return P(this.r,this.g,this.b)},po.toString=function(){return"#"+A(this.r)+A(this.g)+A(this.b)};var mo=Fi.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});
mo.forEach(function(e,t){mo.set(e,S(t))}),Fi.interpolateRgb=q,Fi.interpolateObject=F,Fi.interpolateArray=j,Fi.interpolateNumber=I,Fi.interpolateString=B;var yo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vo=new RegExp(yo.source,"g");Fi.interpolate=O,Fi.interpolators=[function(e,t){var n=typeof t;return("string"===n?mo.has(t)||/^(#|rgb\(|hsl\()/.test(t)?q:B:t instanceof o?q:Array.isArray(t)?j:"object"===n&&isNaN(t)?F:I)(e,t)}],Fi.interpolateRound=z,Fi.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var bo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(V);Fi.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Fi.round(e,U(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),bo[8+n/3]};var No=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,xo=Fi.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Fi.round(e,U(e,t))).toFixed(Math.max(0,Math.min(20,U(e*(1+1e-15),t))))}});Fi.requote=function(e){return e.replace(wo,"\\$&")};var wo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_o=Fi.time={},Lo=Date;Z.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Co.setUTCDate.apply(this._,arguments)},setDay:function(){Co.setUTCDay.apply(this._,arguments)},setFullYear:function(){Co.setUTCFullYear.apply(this._,arguments)},setHours:function(){Co.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Co.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Co.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Co.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Co.setUTCSeconds.apply(this._,arguments)},setTime:function(){Co.setTime.apply(this._,arguments)}};var Co=Date.prototype;_o.year=J(function(e){return e=_o.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),_o.years=_o.year.range,_o.years.utc=_o.year.utc.range,_o.day=J(function(e){var t=new Lo(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),_o.days=_o.day.range,_o.days.utc=_o.day.utc.range,_o.dayOfYear=function(e){var t=_o.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=_o[e]=J(function(e){return(e=_o.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=_o.year(e).getDay();return Math.floor((_o.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});_o[e+"s"]=n.range,_o[e+"s"].utc=n.utc.range,_o[e+"OfYear"]=function(e){var n=_o.year(e).getDay();return Math.floor((_o.dayOfYear(e)+(n+t)%7)/7)}}),_o.week=_o.sunday,_o.weeks=_o.sunday.range,_o.weeks.utc=_o.sunday.utc.range,_o.weekOfYear=_o.sundayOfYear;var Eo={"-":"",_:" ",0:"0"},ko=/^\s*\d+/,To=/^%/;Fi.locale=function(e){return{numberFormat:X(e),timeFormat:et(e)}};var So=Fi.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Fi.format=So.numberFormat;var Mo={floor:Y,ceil:Y};Fi.ascending=Lt;var Ao=Ct(Lt);Fi.bisectLeft=Ao.left,Fi.bisect=Fi.bisectRight=Ao.right,Fi.bisector=function(e){return Ct(1===e.length?function(t,n){return Lt(e(t),n)}:e)},Fi.scale.linear=function(){return kt([0,1],[0,1],O,!1)};var Ho={s:1,g:1,p:1,r:1,e:1};Fi.scale.log=function(){return Wt(Fi.scale.linear().domain([0,1]),10,!0,[1,10])};var Po=Fi.format(".0e"),Ro={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Fi.scale.pow=function(){return Dt(Fi.scale.linear(),1,[0,1])},Fi.scale.sqrt=function(){return Fi.scale.pow().exponent(.5)},Fi.scale.ordinal=function(){return Ft([],{t:"range",a:[[]]})},Fi.scale.category10=function(){return Fi.scale.ordinal().range(Wo)},Fi.scale.category20=function(){return Fi.scale.ordinal().range(Do)},Fi.scale.category20b=function(){return Fi.scale.ordinal().range(qo)},Fi.scale.category20c=function(){return Fi.scale.ordinal().range(Fo)};var Wo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(M),Do=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(M),qo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(M),Fo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(M);Fi.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},Fi.scale.quantile=function(){return Bt([],[])},Fi.scale.quantize=function(){return Ot(0,1,[0,1])},Fi.scale.threshold=function(){return zt([.5],[0,1])},Fi.scale.identity=function(){return $t([0,1])};var jo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Io=["webkit","ms","moz","Moz","o","O"],Bo=function(e,t){return t.querySelector(e)},Oo=function(e,t){return t.querySelectorAll(e)},zo=Oi.matches||Oi[Qt(Oi,"matchesSelector")],$o=function(e,t){return zo.call(e,t)};"function"==typeof Sizzle&&(Bo=function(e,t){return Sizzle(e,t)[0]||null},Oo=Sizzle,$o=Sizzle.matchesSelector),Fi.selection=function(){return Vo};var Qo=Fi.selection.prototype=[];Qo.select=function(e){var t,n,r,i,o=[];e=Ut(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return Yt(o)},Qo.selectAll=function(e){var t,n,r=[];e=Vt(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(t=Ii(e.call(n,n.__data__,s,i))),t.parentNode=n);return Yt(r)},Qo.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Fi.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(Xt(t,e[t]));return this}return this.each(Xt(e,t))},Qo.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=Jt(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!Zt(e[i]).test(t))return!1;return!0}for(t in e)this.each(Kt(t,e[t]));return this}return this.each(Kt(e,t))},Qo.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(tn(n,e[n],t));return this}if(2>r)return zi.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(tn(e,t,n))},Qo.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(nn(t,e[t]));return this}return this.each(nn(e,t))},Qo.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Qo.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Qo.append=function(e){return e=rn(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Qo.insert=function(e,t){return e=rn(e),t=Ut(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Qo.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},Fi.set=function(e){var t=new on;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},a(on,{has:c,add:function(e){return this._[l(e+="")]=!0,e},remove:h,values:d,size:f,empty:g,forEach:function(e){for(var t in this._)e.call(this,u(t))}}),Qo.data=function(e,t){function n(e,n){var r,i,o,a=e.length,h=n.length,d=Math.min(a,h),f=new Array(h),g=new Array(h),p=new Array(a);if(t){var m,y=new s,v=new Array(a);for(r=-1;++r<a;)y.has(m=t.call(i=e[r],i.__data__,r))?p[r]=i:y.set(m,i),v[r]=m;for(r=-1;++r<h;)(i=y.get(m=t.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):g[r]=an(o),y.set(m,!0);for(r=-1;++r<a;)y.get(v[r])!==!0&&(p[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):g[r]=an(o);for(;h>r;++r)g[r]=an(n[r]);for(;a>r;++r)p[r]=e[r]}g.update=f,g.parentNode=f.parentNode=p.parentNode=e.parentNode,l.push(g),u.push(f),c.push(p)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var l=bn([]),u=Yt([]),c=Yt([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return u.enter=function(){return l},u.exit=function(){return c},u},Qo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Qo.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=sn(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return Yt(i)},Qo.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Qo.sort=function(e){e=ln.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Fi.dispatch=function(){for(var e=new cn,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=hn(e);return e},cn.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},Fi.event=null,Qo.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(pn(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(pn(e,t,n))};var Yo=Fi.map({mouseenter:"mouseover",mouseleave:"mouseout"});Yo.forEach(function(e){"on"+e in Bi&&Yo.remove(e)}),Qo.each=function(e){return vn(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Qo.call=function(e){var t=Ii(arguments);return e.apply(t[0]=this,t),this},Qo.empty=function(){return!this.node()},Qo.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Qo.size=function(){var e=0;return vn(this,function(){++e}),e};var Uo=[];Fi.selection.enter=bn,Fi.selection.enter.prototype=Uo,Uo.append=Qo.append,Uo.empty=Qo.empty,Uo.node=Qo.node,Uo.call=Qo.call,Uo.size=Qo.size,Uo.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return Yt(a)},Uo.insert=function(e,t){return arguments.length<2&&(t=Nn(this)),Qo.insert.call(this,e,t)},Qo.transition=function(){for(var e,t,n=ca||++fa,r=[],i=ha||{time:Date.now(),ease:wr,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(e=[]);for(var s=this[o],l=-1,u=s.length;++l<u;)(t=s[l])&&Mr(t,l,n,i),e.push(t)}return ur(r,n)},Qo.interrupt=function(){return this.each(xn)},Fi.select=function(e){var t=["string"==typeof e?Bo(e,Bi):e];return t.parentNode=Oi,Yt([t])},Fi.selectAll=function(e){var t=Ii("string"==typeof e?Oo(e,Bi):e);return t.parentNode=Oi,Yt([t])};var Vo=Fi.select(Oi);Fi.svg={},Fi.svg.arc=function(){function t(){var e=n.apply(this,arguments),t=r.apply(this,arguments),a=i.apply(this,arguments)+Xo,s=o.apply(this,arguments)+Xo,l=(a>s&&(l=a,a=s,s=l),s-a),u=no>l?"0":"1",c=Math.cos(a),h=Math.sin(a),d=Math.cos(s),f=Math.sin(s);return l>=Go?e?"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z":e?"M"+t*c+","+t*h+"A"+t+","+t+" 0 "+u+",1 "+t*d+","+t*f+"L"+e*d+","+e*f+"A"+e+","+e+" 0 "+u+",0 "+e*c+","+e*h+"Z":"M"+t*c+","+t*h+"A"+t+","+t+" 0 "+u+",1 "+t*d+","+t*f+"L0,0Z"}var n=wn,r=_n,i=Ln,o=Cn;return t.innerRadius=function(r){return arguments.length?(n=e(r),t):n},t.outerRadius=function(n){return arguments.length?(r=e(n),t):r},t.startAngle=function(n){return arguments.length?(i=e(n),t):i},t.endAngle=function(n){return arguments.length?(o=e(n),t):o},t.centroid=function(){var e=(n.apply(this,arguments)+r.apply(this,arguments))/2,t=(i.apply(this,arguments)+o.apply(this,arguments))/2+Xo;return[Math.cos(t)*e,Math.sin(t)*e]},t};var Xo=-io,Go=ro-oo;Fi.svg.line=function(){return Sn(Y)};var Zo=Fi.map({linear:Mn,"linear-closed":An,step:Hn,"step-before":Pn,"step-after":Rn,basis:In,"basis-open":Bn,"basis-closed":On,bundle:zn,cardinal:qn,"cardinal-open":Wn,"cardinal-closed":Dn,monotone:Xn});Zo.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Jo=[0,2/3,1/3,0],Ko=[0,1/3,2/3,0],ea=[0,1/6,2/3,1/6];Fi.svg.line.radial=function(){var e=Sn(Gn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Pn.reverse=Rn,Rn.reverse=Pn,Fi.svg.area=function(){return Zn(Y)},Fi.svg.area.radial=function(){var e=Zn(Gn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Fi.svg.chord=function(){function t(e,t){var l=n(this,a,e,t),u=n(this,s,e,t);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(r(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function n(e,t,n,r){var i=t.call(e,n,r),o=l.call(e,i,r),a=u.call(e,i,r)+Xo,s=c.call(e,i,r)+Xo;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function r(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>no)+",1 "+t}function o(e,t,n,r){return"Q 0,0 "+r}var a=Jn,s=Kn,l=er,u=Ln,c=Cn;return t.radius=function(n){return arguments.length?(l=e(n),t):l},t.source=function(n){return arguments.length?(a=e(n),t):a},t.target=function(n){return arguments.length?(s=e(n),t):s},t.startAngle=function(n){return arguments.length?(u=e(n),t):u},t.endAngle=function(n){return arguments.length?(c=e(n),t):c},t},Fi.svg.diagonal=function(){function t(e,t){var o=n.call(this,e,t),a=r.call(this,e,t),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var n=Jn,r=Kn,i=tr;return t.source=function(r){return arguments.length?(n=e(r),t):n},t.target=function(n){return arguments.length?(r=e(n),t):r},t.projection=function(e){return arguments.length?(i=e,t):i},t},Fi.svg.diagonal.radial=function(){var e=Fi.svg.diagonal(),t=tr,n=e.projection;return e.projection=function(e){return arguments.length?n(nr(t=e)):t},e},Fi.svg.symbol=function(){function t(e,t){return(ta.get(n.call(this,e,t))||or)(r.call(this,e,t))}var n=ir,r=rr;return t.type=function(r){return arguments.length?(n=e(r),t):n},t.size=function(n){return arguments.length?(r=e(n),t):r},t};var ta=Fi.map({circle:or,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*la)),n=t*la;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/sa),n=t*sa/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/sa),n=t*sa/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Fi.svg.symbolTypes=ta.keys();var na,ra,ia,oa,aa,sa=Math.sqrt(3),la=Math.tan(30*ao),ua=zi[Qt(zi,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Fi.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};ra?ra.n=o:na=o,ra=o,ia||(oa=clearTimeout(oa),ia=1,ua(ar))},Fi.timer.flush=function(){sr(),lr()};var ca,ha,da=[],fa=0;da.call=Qo.call,da.empty=Qo.empty,da.node=Qo.node,da.size=Qo.size,Fi.transition=function(e){return arguments.length?ca?e.transition():e:Vo.transition()},Fi.transition.prototype=da,da.select=function(e){var t,n,r,i=this.id,o=[];e=Ut(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]);for(var l=this[a],u=-1,c=l.length;++u<c;)(r=l[u])&&(n=e.call(r,r.__data__,u,a))?("__data__"in r&&(n.__data__=r.__data__),Mr(n,u,i,r.__transition__[i]),t.push(n)):t.push(null)}return ur(o,i)},da.selectAll=function(e){var t,n,r,i,o,a=this.id,s=[];e=Vt(e);for(var l=-1,u=this.length;++l<u;)for(var c=this[l],h=-1,d=c.length;++h<d;)if(r=c[h]){o=r.__transition__[a],n=e.call(r,r.__data__,h,l),s.push(t=[]);for(var f=-1,g=n.length;++f<g;)(i=n[f])&&Mr(i,f,a,o),t.push(i)}return ur(s,a)},da.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=sn(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return ur(i,this.id)},Fi.transform=function(e){var t=Bi.createElementNS(Fi.ns.prefix.svg,"g");return(Fi.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new cr(n?n.matrix:ga)})(e)},cr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ga={a:1,b:0,c:0,d:1,e:0,f:0};Fi.interpolateTransform=gr,da.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):vn(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},da.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?gr:O,s=Fi.ns.qualify(e);return pr(this,"attr."+e,t,s.local?o:i)},da.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=Fi.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},da.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=zi.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=O(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return pr(this,"style."+e,t,i)},da.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,zi.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},da.text=function(e){return pr(this,"text",e,mr)},da.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})};var pa=function(){return Y},ma=Fi.map({linear:pa,poly:_r,quad:function(){return Nr},cubic:function(){return xr},sin:function(){return Lr},exp:function(){return Cr},circle:function(){return Er},elastic:kr,back:Tr,bounce:function(){return Sr}}),ya=Fi.map({"in":Y,out:vr,"in-out":br,"out-in":function(e){return br(vr(e))}});Fi.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ma.get(n)||pa,r=ya.get(r)||Y,yr(r(n.apply(null,ji.call(arguments,1))))},da.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Fi.ease.apply(Fi,arguments)),vn(this,function(n){n.__transition__[t].ease=e}))},da.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:vn(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},da.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:vn(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},da.each=function(e,t){var n=this.id;if(arguments.length<2){var r=ha,i=ca;ca=n,vn(this,function(t,r,i){ha=t.__transition__[n],e.call(t,t.__data__,r,i)}),ha=r,ca=i}else vn(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Fi.dispatch("start","end"))).on(e,t)});return this},da.transition=function(){for(var e,t,n,r,i=this.id,o=++fa,a=[],s=0,l=this.length;l>s;s++){a.push(e=[]);for(var t=this[s],u=0,c=t.length;c>u;u++)(n=t[u])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Mr(n,u,o,r)),e.push(n)}return ur(a,o)},Fi.svg.axis=function(){function e(e){e.each(function(){var e,c=Fi.select(this),h=this.__chart__||n,d=this.__chart__=n.copy(),f=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,g=null==t?d.tickFormat?d.tickFormat.apply(d,l):Y:t,p=c.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",oo),y=Fi.transition(p.exit()).style("opacity",oo).remove(),v=Fi.transition(p.order()).style("opacity",1),b=Math.max(o,0)+s,N=r(d),x=c.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),Fi.transition(x));m.append("line"),m.append("text");var _,L,C,E,k=m.select("line"),T=v.select("line"),S=p.select("text").text(g),M=m.select("text"),A=v.select("text"),H="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(e=Ar,_="x",C="y",L="x2",E="y2",S.attr("dy",0>H?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+N[0]+","+H*a+"V0H"+N[1]+"V"+H*a)):(e=Hr,_="y",C="x",L="y2",E="x2",S.attr("dy",".32em").style("text-anchor",0>H?"end":"start"),w.attr("d","M"+H*a+","+N[0]+"H0V"+N[1]+"H"+H*a)),k.attr(E,H*o),M.attr(C,H*b),T.attr(L,0).attr(E,H*o),A.attr(_,0).attr(C,H*b),d.rangeBand){var P=d,R=P.rangeBand()/2;h=d=function(e){return P(e)+R}}else h.rangeBand?h=d:y.call(e,d,h);m.call(e,h,d),v.call(e,d,d)})}var t,n=Fi.scale.linear(),i=va,o=6,a=6,s=3,l=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in ba?t+"":va,e):i},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(o=+t,a=+arguments[n-1],e):o},e.innerTickSize=function(t){return arguments.length?(o=+t,e):o},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var va="bottom",ba={top:1,right:1,bottom:1,left:1},Na="onselectstart"in Bi?null:Qt(Oi.style,"userSelect"),xa=0;Fi.mouse=function(e){return Rr(e,fn())};var wa=/WebKit/.test(zi.navigator.userAgent)?-1:0;Fi.svg.brush=function(){function e(a){a.each(function(){var a=Fi.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),s=a.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=a.selectAll(".resize").data(p,Y);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return _a[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var h,d=Fi.transition(a),f=Fi.transition(s);u&&(h=r(u),f.attr("x",h[0]).attr("width",h[1]-h[0]),n(d)),c&&(h=r(c),f.attr("y",h[0]).attr("height",h[1]-h[0]),i(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+h[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",h[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==Fi.event.keyCode&&(T||(b=null,M[0]-=h[1],M[1]-=d[1],T=2),dn())}function p(){32==Fi.event.keyCode&&2==T&&(M[0]+=h[1],M[1]+=d[1],T=0,dn())}function m(){var e=Fi.mouse(x),r=!1;N&&(e[0]+=N[0],e[1]+=N[1]),T||(Fi.event.altKey?(b||(b=[(h[0]+h[1])/2,(d[0]+d[1])/2]),M[0]=h[+(e[0]<b[0])],M[1]=d[+(e[1]<b[1])]):b=null),E&&y(e,u,0)&&(n(L),r=!0),k&&y(e,c,1)&&(i(L),r=!0),r&&(t(L),_({type:"brush",mode:T?"move":"resize"}))}function y(e,t,n){var i,o,l=r(t),u=l[0],c=l[1],p=M[n],m=n?d:h,y=m[1]-m[0];return T&&(u-=p,c-=y+p),i=(n?g:f)?Math.max(u,Math.min(c,e[n])):e[n],T?o=(i+=p)+y:(b&&(p=Math.max(u,Math.min(c,2*b[n]-i))),i>p?(o=i,i=p):o=p),m[0]!=i||m[1]!=o?(n?s=null:a=null,m[0]=i,m[1]=o,!0):void 0}function v(){m(),L.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Fi.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),_({type:"brushend"})}var b,N,x=this,w=Fi.select(Fi.event.target),_=l.of(x,arguments),L=Fi.select(x),C=w.datum(),E=!/^(n|s)$/.test(C)&&u,k=!/^(e|w)$/.test(C)&&c,T=w.classed("extent"),S=Pr(),M=Fi.mouse(x),A=Fi.select(zi).on("keydown.brush",o).on("keyup.brush",p);if(Fi.event.changedTouches?A.on("touchmove.brush",m).on("touchend.brush",v):A.on("mousemove.brush",m).on("mouseup.brush",v),L.interrupt().selectAll("*").interrupt(),T)M[0]=h[0]-M[0],M[1]=d[0]-M[1];else if(C){var H=+/w$/.test(C),P=+/^n/.test(C);N=[h[1-H]-M[0],d[1-P]-M[1]],M[0]=h[H],M[1]=d[P]}else Fi.event.altKey&&(b=M.slice());L.style("pointer-events","none").selectAll(".resize").style("display",null),Fi.select("body").style("cursor",w.style("cursor")),_({type:"brushstart"}),m()}var a,s,l=gn(e,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,g=!0,p=La[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:h,y:d,i:a,j:s},n=this.__chart__||t;this.__chart__=t,ca?Fi.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=j(h,t.x),r=j(d,t.y);return a=s=null,function(i){h=t.x=n(i),d=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,p=La[!u<<1|!c],e):u},e.y=function(t){return arguments.length?(c=t,p=La[!u<<1|!c],e):c},e.clamp=function(t){return arguments.length?(u&&c?(f=!!t[0],g=!!t[1]):u?f=!!t:c&&(g=!!t),e):u&&c?[f,g]:u?f:c?g:null},e.extent=function(t){var n,r,i,o,l;return arguments.length?(u&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(l=n,n=r,r=l),(n!=h[0]||r!=h[1])&&(h=[n,r])),c&&(i=t[0],o=t[1],u&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(l=i,i=o,o=l),(i!=d[0]||o!=d[1])&&(d=[i,o])),e):(u&&(a?(n=a[0],r=a[1]):(n=h[0],r=h[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(l=n,n=r,r=l))),c&&(s?(i=s[0],o=s[1]):(i=d[0],o=d[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(l=i,i=o,o=l))),u&&c?[[n,i],[r,o]]:u?[n,r]:c&&[i,o])},e.clear=function(){return e.empty()||(h=[0,0],d=[0,0],a=s=null),e},e.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},Fi.rebind(e,l,"on")};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},La=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];Fi.layout={},Fi.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Wr(e[n]));return t}},Fi.layout.chord=function(){function e(){var e,u,h,d,f,g={},p=[],m=Fi.range(o),y=[];for(n=[],r=[],e=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=i[d][f];p.push(u),y.push(Fi.range(o)),e+=u}for(a&&m.sort(function(e,t){return a(p[e],p[t])}),s&&y.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(ro-c*o)/e,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var v=m[d],b=y[v][f],N=i[v][b],x=u,w=u+=N*e;g[v+"-"+b]={index:v,subindex:b,startAngle:x,endAngle:w,value:N}}r[v]={index:v,startAngle:h,endAngle:u,value:(u-h)/e},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var _=g[d+"-"+f],L=g[f+"-"+d];(_.value||L.value)&&n.push(_.value<L.value?{source:L,target:_}:{source:_,target:L})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,u):i},u.padding=function(e){return arguments.length?(c=e,n=r=null,u):c},u.sortGroups=function(e){return arguments.length?(a=e,n=r=null,u):a},u.sortSubgroups=function(e){return arguments.length?(s=e,n=null,u):s},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return r||e(),r},u},Fi.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=fn().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return Rr(e,r)},Fi.behavior={},Fi.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function s(){var e,n,r=t(d,p);r&&(e=r[0]-b[0],n=r[1]-b[1],g|=e|n,b=r,f({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:e,dy:n}))}function l(){t(d,p)&&(y.on(o+m,null).on(a+m,null),v(g&&Fi.event.target===h),f({type:"dragend"}))}var u,c=this,h=Fi.event.target,d=c.parentNode,f=n.of(c,arguments),g=0,p=e(),m=".drag"+(null==p?"":"-"+p),y=Fi.select(i()).on(o+m,s).on(a+m,l),v=Pr(),b=t(d,p);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],f({type:"dragstart"})}}var n=gn(e,"drag","dragstart","dragend"),r=null,i=t(un,Fi.mouse,Ir,"mousemove","mouseup"),o=t(Fr,Fi.touch,jr,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},Fi.rebind(e,n,"on")
},Fi.geom={},Fi.geom.quadtree=function(t,n,r,i,o){function a(t){function a(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(Ji(l-n)+Ji(u-r)<.01)c(e,t,n,r,i,o,a,s);else{var h=e.point;e.x=e.y=e.point=null,c(e,h,l,u,i,o,a,s),c(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,o,a,s)}function c(e,t,n,r,i,o,s,l){var u=.5*(i+s),c=.5*(o+l),h=n>=u,d=r>=c,f=(d<<1)+h;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=zr()),h?i=u:s=u,d?o=c:l=c,a(e,t,n,r,i,o,s,l)}var h,d,f,g,p,m,y,v,b,N=e(l),x=e(u);if(null!=n)m=n,y=r,v=i,b=o;else if(v=b=-(m=y=1/0),d=[],f=[],p=t.length,s)for(g=0;p>g;++g)h=t[g],h.x<m&&(m=h.x),h.y<y&&(y=h.y),h.x>v&&(v=h.x),h.y>b&&(b=h.y),d.push(h.x),f.push(h.y);else for(g=0;p>g;++g){var w=+N(h=t[g],g),_=+x(h,g);m>w&&(m=w),y>_&&(y=_),w>v&&(v=w),_>b&&(b=_),d.push(w),f.push(_)}var L=v-m,C=b-y;L>C?b=y+L:v=m+C;var E=zr();if(E.add=function(e){a(E,e,+N(e,++g),+x(e,g),m,y,v,b)},E.visit=function(e){$r(e,E,m,y,v,b)},g=-1,null==n){for(;++g<p;)a(E,t[g],d[g],f[g],m,y,v,b);--g}else t.forEach(E.add);return d=f=t=h=null,E}var s,l=kn,u=Tn;return(s=arguments.length)?(l=Br,u=Or,3===s&&(o=r,i=n,r=n=0),a(t)):(a.x=function(e){return arguments.length?(l=e,a):l},a.y=function(e){return arguments.length?(u=e,a):u},a.extent=function(e){return arguments.length?(null==e?n=r=i=o=null:(n=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),a):null==n?null:[[n,r],[i,o]]},a.size=function(e){return arguments.length?(null==e?n=r=i=o=null:(n=r=0,i=+e[0],o=+e[1]),a):null==n?null:[i-n,o-r]},a)},Fi.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(l>s*s/m){if(g>l){var u=t.charge/l;e.px-=o*u,e.py-=a*u}return!0}if(t.point&&l&&g>l){var u=t.pointCharge/l;e.px-=o*u,e.py-=a*u}}return!t.charge}}function t(e){e.px=Fi.event.x,e.py=Fi.event.y,s.resume()}var n,r,i,o,a,s={},l=Fi.dispatch("start","tick","end"),u=[1,1],c=.9,h=Ca,d=Ea,f=-30,g=ka,p=.1,m=.64,y=[],v=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var t,n,s,h,d,g,m,b,N,x=y.length,w=v.length;for(n=0;w>n;++n)s=v[n],h=s.source,d=s.target,b=d.x-h.x,N=d.y-h.y,(g=b*b+N*N)&&(g=r*o[n]*((g=Math.sqrt(g))-i[n])/g,b*=g,N*=g,d.x-=b*(m=h.weight/(d.weight+h.weight)),d.y-=N*m,h.x+=b*(m=1-m),h.y+=N*m);if((m=r*p)&&(b=u[0]/2,N=u[1]/2,n=-1,m))for(;++n<x;)s=y[n],s.x+=(b-s.x)*m,s.y+=(N-s.y)*m;if(f)for(Xr(t=Fi.geom.quadtree(y),r,a),n=-1;++n<x;)(s=y[n]).fixed||t.visit(e(s));for(n=-1;++n<x;)s=y[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.gravity=function(e){return arguments.length?(p=+e,s):p},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(l.start({type:"start",alpha:r=e}),Fi.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=v[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,u=a.length;++s<u;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}var t,n,r,l=y.length,c=v.length,g=u[0],p=u[1];for(t=0;l>t;++t)(r=y[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=v[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;l>t;++t)r=y[t],isNaN(r.x)&&(r.x=e("x",g)),isNaN(r.y)&&(r.y=e("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(t=0;c>t;++t)i[t]=+h.call(this,v[t],t);else for(t=0;c>t;++t)i[t]=h;if(o=[],"function"==typeof d)for(t=0;c>t;++t)o[t]=+d.call(this,v[t],t);else for(t=0;c>t;++t)o[t]=d;if(a=[],"function"==typeof f)for(t=0;l>t;++t)a[t]=+f.call(this,y[t],t);else for(t=0;l>t;++t)a[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Fi.behavior.drag().origin(Y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",Yr)),arguments.length?void this.on("mouseover.force",Ur).on("mouseout.force",Vr).call(n):n},Fi.rebind(s,l,"on")};var Ca=20,Ea=1,ka=1/0;Fi.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n},Fi.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(e,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return Jr(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=ti,n=Kr,r=ei;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Zr(t,function(e){e.children&&(e.value=0)}),Jr(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},Fi.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=t.value?r/t.value:0;++u<a;)e(s=o[u],n,l=s.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=Fi.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Gr(n,r)},Fi.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)It(n=+e[o])&&(r+=n);else for(;++o<i;)It(n=+t.call(e,e[o],o))&&(r+=n);return r},Fi.layout.pie=function(){function e(o){var a=o.map(function(n,r){return+t.call(e,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),l=(("function"==typeof i?i.apply(this,arguments):i)-s)/Fi.sum(a),u=Fi.range(o.length);null!=n&&u.sort(n===Ta?function(e,t){return a[t]-a[e]}:function(e,t){return n(o[e],o[t])});var c=[];return u.forEach(function(e){var t;c[e]={data:o[e],value:t=a[e],startAngle:s,endAngle:s+=t*l}}),c}var t=Number,n=Ta,r=0,i=ro;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var Ta={};Fi.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},Fi.layout.stack=function(){function e(s,l){if(!(d=s.length))return s;var u=s.map(function(n,r){return t.call(e,n,r)}),c=u.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),h=n.call(e,c,l);u=Fi.permute(u,h),c=Fi.permute(c,h);var d,f,g,p,m=r.call(e,c,l),y=u[0].length;for(g=0;y>g;++g)for(i.call(e,u[0][g],p=m[g],c[0][g][1]),f=1;d>f;++f)i.call(e,u[f][g],p+=c[f-1][g][1],c[f][g][1]);return s}var t=Y,n=ai,r=si,i=oi,o=ri,a=ii;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Sa.get(t)||ai,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ma.get(t)||si,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var Sa=Fi.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(li),o=e.map(ui),a=Fi.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,l=0,u=[],c=[];for(t=0;r>t;++t)n=a[t],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return Fi.range(e.length).reverse()},"default":ai}),Ma=Fi.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,u,c=e.length,h=e[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,s=h[n][0]-h[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}f[n]=l-=i?o/i*s:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:si});Fi.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Fi.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Fi.layout.histogram=function(){function t(e,t){for(var a,s,l=[],u=e.map(r,this),c=i.call(this,u,t),h=o.call(this,c,u,t),t=-1,d=u.length,f=h.length-1,g=n?1:1/d;++t<f;)a=l[t]=[],a.dx=h[t+1]-(a.x=h[t]),a.y=0;if(f>0)for(t=-1;++t<d;)s=u[t],s>=c[0]&&s<=c[1]&&(a=l[Fi.bisect(h,s,1,f)-1],a.y+=g,a.push(e[t]));return l}var n=!0,r=Number,i=fi,o=hi;return t.value=function(e){return arguments.length?(r=e,t):r},t.range=function(n){return arguments.length?(i=e(n),t):i},t.bins=function(n){return arguments.length?(o="number"==typeof n?function(e){return di(e,n)}:e(n),t):o},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},Fi.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Jr(s,function(e){e.r=+c(e.value)}),Jr(s,vi),r){var h=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Jr(s,function(e){e.r+=h}),Jr(s,vi),Jr(s,function(e){e.r-=h})}return xi(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var t,n=Fi.layout.hierarchy().sort(gi),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Gr(e,n)},Fi.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),h=c[0],d=t(h);if(Jr(d,n),d.parent.m=-d.z,Zr(d,r),u)Zr(h,o);else{var f=h,g=h,p=h;Zr(h,function(e){e.x<f.x&&(f=e),e.x>g.x&&(g=e),e.depth>p.depth&&(p=e)});var m=s(f,g)/2-f.x,y=l[0]/(g.x+s(g,f)/2+m),v=l[1]/(p.depth||1);Zr(h,function(e){e.x=(e.x+m)*y,e.y=e.depth*v})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){ki(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,l=i.parent.children[0],u=i.m,c=o.m,h=a.m,d=l.m;a=Ci(a),i=Li(i),a&&i;)l=Li(l),o=Ci(o),o.a=e,r=a.z+h-i.z-u+s(a._,i._),r>0&&(Ei(Ti(a,e,n),e,r),u+=r,c+=r),h+=a.m,u+=i.m,d+=l.m,c+=o.m;a&&!Ci(o)&&(o.t=a,o.m+=h-c),i&&!Li(l)&&(l.t=i,l.m+=u-d,n=e)}return n}function o(e){e.x*=l[0],e.y=e.depth*l[1]}var a=Fi.layout.hierarchy().sort(null).value(null),s=_i,l=[1,1],u=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(u=null==(l=t)?o:null,e):u?null:l},e.nodeSize=function(t){return arguments.length?(u=null==(l=t)?null:o,e):u?l:null},Gr(e,a)},Fi.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),l=s[0],u=0;Jr(l,function(e){var t=e.children;t&&t.length?(e.x=Mi(t),e.y=Si(t)):(e.x=a?u+=n(e,a):0,e.y=0,a=e)});var c=Ai(l),h=Hi(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return Jr(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(f-d)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=Fi.layout.hierarchy().sort(null).value(null),n=_i,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Gr(e,t)},Fi.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,l,u=h(n),c=[],d=o.slice(),g=1/0,p="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(a=d[l-1]),c.area+=a.area,"squarify"!==f||(s=r(c,p))<=g?(d.pop(),g=s):(c.area-=c.pop().area,i(c,p,u,!1),p=Math.min(u.dx,u.dy),c.length=c.area=0,g=1/0);c.length&&(i(c,p,u,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=h(t),s=r.slice(),l=[];for(e(s,a.dx*a.dy/t.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*o*g)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),d&&(a=i),i}var a,s=Fi.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Pi,d=!1,f="squarify",g=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(u=e,o):u},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Pi(t):Ri(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ri(t,e)}if(!arguments.length)return c;var r;return h=null==(c=e)?Pi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(l=e?Math.round:Number,o):l!=Number},o.sticky=function(e){return arguments.length?(d=e,a=null,o):d},o.ratio=function(e){return arguments.length?(g=e,o):g},o.mode=function(e){return arguments.length?(f=e+"",o):f},Gr(o,s)},Fi.interpolateHcl=Wi,Fi.interpolateHsl=Di,Fi.interpolateLab=qi;var Aa=Math.SQRT2,Ha=2,Pa=4;Fi.interpolateZoom=function(e,t){function n(e){var t=e*x;if(N){var n=v(p),a=o/(Ha*d)*(n*b(Aa*t+p)-y(p));return[r+a*u,i+a*c,o*n/v(Aa*t+p)]}return[r+e*u,i+e*c,o*Math.exp(Aa*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],l=t[2],u=a-r,c=s-i,h=u*u+c*c,d=Math.sqrt(h),f=(l*l-o*o+Pa*h)/(2*o*Ha*d),g=(l*l-o*o-Pa*h)/(2*l*Ha*d),p=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(g*g+1)-g),N=m-p,x=(N||Math.log(l/o))/Aa;return n.duration=1e3*x,n},"function"==typeof define&&define.amd?define("d3",Fi):"object"==typeof module&&module.exports&&(module.exports=Fi),this.d3=Fi}(),define("mediator/resultsMediator",["lib/news_special/bootstrap","model/eventStrs","lib/news_special/template_engine","d3"],function(e,t,n,r){var i=function(){this.el=e.$(".result-page"),this.introDefault=e.$(".intro-message__default"),this.introEnglandResults=e.$(".intro-message__england"),this.backButtonBtn=this.el.find(".result-page--back-button"),this.moreDetailsBtn=this.el.find(".more-details-btn"),this.moreDetailsBtnBottom=this.el.find(".more-details-btn__bottom"),this.moreDetails=this.el.find(".more-details"),this.totalChart=this.el.find("#results-chart--chart__total"),this.chartTmplName="chart_tmpl",this.userContributionDisplay=this.el.find(".result-total--amount"),this.contributionDurationYears=this.el.find(".result-total--timeline__years"),this.contributionDurationMonths=this.el.find(".result-total--timeline__months"),this.totalSummary=this.el.find(".result-total--summary"),this.whoForDataName="self-text",this.breakDownLivingEl=this.el.find(".calc-item--val__living"),this.breakDownCareEl=this.el.find(".calc-item--val__care"),this.breakDownTotalEl=this.el.find(".calc-item--val__total"),this.privateAvgEL=this.el.find(".breakdown-desc__amount__private"),this.regionAvgEl=this.el.find(".breakdown-desc__amount__region"),this.careTotalAmountEl=this.el.find(".care-bill--amount"),this.compareTotalValEl=this.el.find(".compare--total__val"),this.getsHelpEl=this.el.find(".care-bill--desc__help"),this.getsNoHelpEl=this.el.find(".care-bill--desc__no-help"),this.houseIncEl=this.el.find(".care-bill--house-inc"),this.houseExcEl=this.el.find(".care-bill--house-exc"),this.dataAuthority=null,this.init()};return i.prototype={init:function(){e.pubsub.on(t.showResults,this.handleDisplayResults.bind(this)),e.pubsub.on(t.whoForSelected,this.handleWhoForSelect.bind(this)),e.pubsub.on(t.displayEngland,this.displayRegionData.bind(this)),this.backButtonBtn.on("click",this.handleBackBtn.bind(this)),this.moreDetailsBtn.on("click",this.toggleMoreDetails.bind(this))},supportsSvg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},handleWhoForSelect:function(e){var t=this;this.whoForDataName="self"===e?"self-text":"else-text",this.el.find("[data-self-text]").each(function(){var e=$(this).data(t.whoForDataName);$(this).html(e)})},updateDynamicText:function(){var e=this;this.el.find('[data-updating-el="true"]').each(function(){var t=$(this).data(e.whoForDataName);t=t.replace("{REGION}",e.dataAuthority.regionName),$(this).html(t)})},handleBackBtn:function(){this.el.fadeOut(200,function(){e.pubsub.emit(t.backToQuestions)});var n={toggleCaseStudies:!1,hostPageCallback:!1};window.parent.postMessage(window.location.pathname+"::"+JSON.stringify(n),"*"),this.introDefault.show(),this.introEnglandResults.hide()},handleDisplayResults:function(e){this.introDefault.hide(),this.introEnglandResults.show(),this.el.css("display","block"),this.supportsSvg()&&this.displayTotalChart(e),this.userContributionDisplay.text(this.currencyFormat(e.totalCareCosts.user)),this.contributionDurationYears.text(e.timeToReachCap.years),this.contributionDurationMonths.text(e.timeToReachCap.months);var t=this.currencyFormat(e.totalCareCosts.user+e.totalCareCosts.council);this.careTotalAmountEl.text(t);var n=this.totalSummary.data(this.whoForDataName);n=n.replace("{TOTAL_BILL}",t),this.totalSummary.html(n),this.toggleHouseAndHelpText(e),this.displayBreakDownValues(e),this.updateDynamicText();var r={toggleCaseStudies:!0,hostPageCallback:!1};window.parent.postMessage(window.location.pathname+"::"+JSON.stringify(r),"*")},toggleHouseAndHelpText:function(e){console.log(e.totalCareCosts.council),e.totalCareCosts.council>0?(this.getsHelpEl.show(),this.getsNoHelpEl.hide()):(this.getsHelpEl.show(),this.getsNoHelpEl.hide()),e.propertyIncluded?(this.houseIncEl.show(),this.houseExcEl.hide()):(this.houseIncEl.hide(),this.houseExcEl.show())},displayBreakDownValues:function(e){this.breakDownLivingEl.text(this.currencyFormat(e.livingCosts)),this.breakDownCareEl.text(this.currencyFormat(e.careCosts));var t=this.currencyFormat(e.livingCosts+e.careCosts);this.breakDownTotalEl.text(t)},toggleMoreDetails:function(){"none"===this.moreDetails.css("display")?(this.moreDetails.slideDown(1e3),this.moreDetailsBtn.text("Show less detail"),this.moreDetailsBtnBottom.fadeIn(200)):(this.moreDetailsBtnBottom.fadeOut(200),this.moreDetails.slideUp(1e3),this.moreDetailsBtn.text("Show more detail"))},displayRegionData:function(e){this.dataAuthority=e,this.privateAvgEL.text(this.currencyFormat(e.residentialCare.privateCost)),this.regionAvgEl.text(this.currencyFormat(e.residentialCare.regionCost)),this.compareTotalValEl.text(this.currencyFormat(e.homeCare.localCost))},displayTotalChart:function(e){var t="self-text"===this.whoForDataName?"Your contributions":"Individual's contribution",n={firstText:t,firstTotal:e.totalCareCosts.user,chartDesc:"Over <strong>"+e.timeToReachCap.years+"</strong> years &amp; <strong>"+e.timeToReachCap.months+"</strong> months",lastText:"Council contributions",lastTotal:e.totalCareCosts.council,colors:["#025757","#319593"]};this.drawRadialChart(this.totalChart,n)},currencyFormat:function(e){return""+Math.round(e).toString().replace(/,/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},drawRadialChart:function(e,t){t.firstAmount=this.currencyFormat(t.firstTotal),t.lastAmount=this.currencyFormat(t.lastTotal);var i=this.currencyFormat(t.firstTotal+t.lastTotal);e.closest(".results-chart").show(),e.html(n(this.chartTmplName,t)),e.find(".chart--first-text .chart--amount-text").css("color",t.colors[0]),e.find(".chart--last-text .chart--amount-text").css("color",t.colors[1]);var o=[{name:t.firstText,value:t.firstTotal},{name:t.lastText,value:t.lastTotal}],a=152,s=152,l=e.find(".chart--svg").toArray(),u=r.selectAll(l).attr("width",a).attr("height",s).append("g").attr("transform","translate("+a/2+","+s/2+")"),c=Math.min(a,s)/2,h=r.scale.ordinal().range(t.colors),d=r.svg.arc().outerRadius(c).innerRadius(c-20),f=r.layout.pie().sort(null).startAngle(1.25*Math.PI).endAngle(3.25*Math.PI).value(function(e){return e.value}),g=u.selectAll(".arc").data(f(o)).enter().append("g").attr("class","arc"),p=u.append("foreignObject").attr("x",-60).attr("y",-25).attr("width",120).attr("height",100).append("xhtml:body").style("background","none");p.append("xhtml:span").attr("class","results-chart--total").text("Total"),p.append("xhtml:span").attr("class","results-chart--amount").text(i),g.append("path").style("fill",function(e){return h(e.data.name)}).transition().delay(function(e,t){return 470*t}).duration(470).attrTween("d",function(e){var t=r.interpolate(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),d(e)}})}},i}),define("app",["lib/news_special/bootstrap","mediator/whoForMediator","mediator/postcodeFormMediator","controller/externalIdController","mediator/nationsMediator","mediator/weeklyCostsMediator","mediator/meansTestQuestionsMediator","model/MeansTestCalculator","mediator/resultsMediator"],function(e,t,n,r,i,o,a,s,l){function u(){var e=$(".main").find("[data-fallback]").filter("svg");e.each(function(){var e=$(this);e.replaceWith('<img src="'+e.data("fallback")+'" class="questionsIcon" alt="icon" />')})}return"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(e){var t=Array.prototype.slice,n=this;return function(){var r=t.call(arguments,1);return r.length?arguments.length?n.apply(e,r.concat(t.call(arguments))):n.apply(e,r):arguments.length?n.apply(e,arguments):n.call(e)}}),{init:function(){new n,new r,new i,new t,new o,new a,new s,new l,e.$(".main").show(),e.sendMessageToremoveLoadingImage(),this.isSvgSupported()||u()},isSvgSupported:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}}});
//# sourceMappingURL=all-html5.js.map